---
title: è®¡ç®—æœºç»„æˆ
date: 2018-11-21 10:56:52
tags: 
    - åŸºç¡€
categories: 
    - è®¡ç®—æœºåŸºç¡€
---

ğŸ’ 

- 1. [è®¡ç®—æœºå†å²](#è®¡ç®—æœºå†å²)
    - 1.1. [èµ·æº](#èµ·æº)
- 2. [ç¡¬ä»¶ç³»ç»Ÿ](#ç¡¬ä»¶ç³»ç»Ÿ)
    - 2.1. [å†…å­˜](#å†…å­˜)
    - 2.2. [ç¡¬ç›˜](#ç¡¬ç›˜)
    - 2.3. [CPU](#cpu)
        - 2.3.1. [ä¸­æ–­](#ä¸­æ–­)
        - 2.3.2. [MESI](#mesi)
    - 2.4. [é”®ç›˜](#é”®ç›˜)
- 3. [æ“ä½œç³»ç»Ÿ](#æ“ä½œç³»ç»Ÿ)
- 4. [ç¼–ç¨‹è¯­è¨€](#ç¼–ç¨‹è¯­è¨€)
    - 4.1. [è¯­è¨€çš„çš„æ¼”åŒ–](#è¯­è¨€çš„çš„æ¼”åŒ–)
- 5. [é€šç”¨æ¦‚å¿µ](#é€šç”¨æ¦‚å¿µ)
    - 5.1. [ç¼“å­˜](#ç¼“å­˜)
- 6. [Tips](#tips)
    - 6.1. [æ­»æœº](#æ­»æœº)

ğŸ’  2024-09-30 00:05:08
****************************************
# è®¡ç®—æœºå†å²

## èµ·æº

# ç¡¬ä»¶ç³»ç»Ÿ
> [åšå®¢:ã€ä¸å‘¨å±±ä¹‹è¯»è–„ CSAPPã€‘é›¶ ç³»åˆ—æ¦‚è§ˆ ](http://wdxtub.com/2016/04/16/thin-csapp-0/) `CSAPP:æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ`

## å†…å­˜

## ç¡¬ç›˜
> å­˜å‚¨å•ä½ kb kilobyte; kib kibibyte çš„åŒºåˆ«: [wikipedia](https://en.wikipedia.org/wiki/Kilobyte)

## CPU
> [ç å†œç¿»èº«:CPUé˜¿ç”˜](https://mp.weixin.qq.com/s?__biz=MzAxOTc0NzExNg==&mid=2665513017&idx=1&sn=5550ee714abd36d0b580713f673e670b&scene=21#wechat_redirect) `æ¢³ç†äº†CPU å†…å­˜ æ“ä½œç³»ç»Ÿ BIOS ç¡¬ç›˜ä¹‹é—´çš„å…³ç³»å’Œç‰¹æ€§`

> [versus ä¸­å¤®å¤„ç†å™¨å¯¹æ¯”](https://versus.com/cn/cpu)`CPUå¯¹æ¯”å’Œå¤©æ¢¯å›¾`  
> [cpu.userbenchmark.com](https://cpu.userbenchmark.com/)`ç”¨æˆ·åŸºå‡†æµ‹è¯•å…¬å¼€æ•°æ®`  

### ä¸­æ–­
æœ€æ—©çš„CPUè®¾è®¡æ˜¯è½®è¯¢è®¾å¤‡å»å¤„ç†äº‹ä»¶ï¼ˆè½®è¯¢é”®ç›˜ é¼ æ ‡ ç½‘å¡ç­‰ç­‰ï¼‰ï¼Œå¯¼è‡´å¤šè®¾å¤‡å¤šä»»åŠ¡æ— æ³•å¹¶è¡Œï¼Œå“åº”é€Ÿåº¦ä¹Ÿä¼šæ…¢

TODO  æ—¶é’Ÿå‘¨æœŸ

> ä¸­æ–­æ¨¡å¼è®¾è®¡
1. ç¡¬ä»¶ä¸­æ–­
    1. å¯å±è”½ä¸­æ–­ï¼šå¸¸ç”±è®¡ç®—æœºçš„å¤–è®¾æˆ–ä¸€äº›æ¥å£åŠŸèƒ½äº§ç”Ÿï¼Œå¦‚é”®ç›˜ã€æ‰“å°æœºã€ä¸²è¡Œå£ç­‰è¿™ç§ç±»å‹çš„ä¸­æ–­å¯ä»¥åœ¨CPUè¦å¤„ç†å…¶å®ƒç´§æ€¥æ“ä½œæ—¶ï¼Œè¢«è½¯ä»¶å±è”½æˆ–å¿½ç•¥
    1. éå±è”½ä¸­æ–­ï¼šç”±æ„å¤–äº‹ä»¶å¯¼è‡´ï¼Œå¦‚ç”µæºæ–­ç”µã€å†…å­˜æ ¡éªŒé”™è¯¯ç­‰ å¯¹äºè¿™ç§ç±»å‹çš„ä¸­æ–­äº‹ä»¶ï¼Œæ— æ³•é€šè¿‡è½¯ä»¶è¿›è¡Œå±è”½ï¼ŒCPUå¿…é¡»æ— æ¡ä»¶å“åº”
1. è½¯ä»¶ä¸­æ–­(åˆç§°å†…éƒ¨ä¸­æ–­ è½¯ä¸­æ–­ å¼‚å¸¸): åœ¨ç¨‹åºä¸­è°ƒç”¨INTRä¸­æ–­æŒ‡ä»¤å¼•èµ·çš„ä¸­æ–­
    1. é™·é˜± æ˜¯ä¸€ç§æœ‰æ„çš„ï¼Œé¢„å…ˆå®‰æ’çš„å¼‚å¸¸äº‹ä»¶ï¼Œä¸€èˆ¬æ˜¯åœ¨ç¼–å†™ç¨‹åºæ—¶æ•…æ„è®¾ä¸‹çš„é™·é˜±æŒ‡ä»¤ï¼Œè€Œåæ‰§è¡Œåˆ°é™·é˜±æŒ‡ä»¤åï¼ŒCPUå°†ä¼šè°ƒç”¨ç‰¹å®šç¨‹åºè¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œå¤„ç†ç»“æŸåè¿”å›åˆ°é™·é˜±æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚å¦‚ç³»ç»Ÿè°ƒç”¨ï¼Œç¨‹åºè°ƒè¯•åŠŸèƒ½ç­‰ã€‚
    1. æ•…éšœ æ•…éšœæ˜¯åœ¨å¼•èµ·æ•…éšœçš„æŒ‡ä»¤è¢«æ‰§è¡Œï¼Œä½†è¿˜æ²¡æœ‰æ‰§è¡Œç»“æŸæ—¶ï¼ŒCPUæ£€æµ‹åˆ°çš„ä¸€ç±»çš„æ„å¤–äº‹ä»¶ã€‚å‡ºé”™æ—¶äº¤ç”±æ•…éšœå¤„ç†ç¨‹åºå¤„ç†ï¼Œå¦‚æœèƒ½å¤„ç†ä¿®æ­£è¿™ä¸ªé”™è¯¯ï¼Œå°±å°†æ§åˆ¶è¿”å›åˆ°å¼•èµ·æ•…éšœçš„æŒ‡ä»¤å³CPUé‡æ–°æ‰§è¿™æ¡æŒ‡ä»¤ã€‚å¦‚æœä¸èƒ½å¤„ç†å°±æŠ¥é”™ã€‚
    1. ç»ˆæ­¢ æ‰§è¡ŒæŒ‡ä»¤çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†è‡´å‘½é”™è¯¯ï¼Œä¸å¯ä¿®å¤ï¼Œç¨‹åºæ— æ³•ç»§ç»­è¿è¡Œï¼Œåªèƒ½ç»ˆæ­¢ï¼Œé€šå¸¸ä¼šæ˜¯ä¸€äº›ç¡¬ä»¶çš„é”™è¯¯ã€‚ç»ˆæ­¢å¤„ç†ç¨‹åºä¸ä¼šå°†æ§åˆ¶è¿”å›ç»™åŸç¨‹åºï¼Œè€Œæ˜¯ç›´æ¥ç»ˆæ­¢åŸç¨‹åº

> ä¸­æ–­å¤„ç†è¿‡ç¨‹
1. ä¸­æ–­è¯·æ±‚è§¦å‘:  ä¸­æ–­è¯·æ±‚æ˜¯ç”±ä¸­æ–­æºå‘CPUå‘å‡ºä¸­æ–­è¯·æ±‚ä¿¡å·ã€‚å¤–éƒ¨è®¾å¤‡å‘å‡ºä¸­æ–­è¯·æ±‚ä¿¡å·è¦å…·å¤‡ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š
    1. å¤–éƒ¨è®¾å¤‡çš„å·¥ä½œå·²ç»å‘Šä¸€æ®µè½ã€‚ ä¾‹å¦‚è¾“å…¥è®¾å¤‡åªæœ‰åœ¨å¯åŠ¨åï¼Œå°†è¦è¾“å…¥çš„æ•°æ®é€åˆ°æ¥å£ç”µè·¯çš„æ•°æ®å¯„å­˜å™¨ï¼ˆå³å‡†å¤‡å¥½è¦è¾“å…¥çš„æ•°æ®ï¼‰ä¹‹åï¼Œæ‰å¯ä»¥å‘CPUå‘å‡ºä¸­æ–­è¯·æ±‚ã€‚
    1. ç³»ç»Ÿå…è®¸è¯¥å¤–è®¾å‘å‡ºä¸­æ–­è¯·æ±‚ã€‚ å¦‚æœç³»ç»Ÿä¸å…è®¸è¯¥å¤–è®¾å‘å‡ºä¸­æ–­è¯·æ±‚ï¼Œå¯ä»¥å°†è¿™ä¸ªå¤–è®¾çš„è¯·æ±‚å±è”½ã€‚å½“è¿™ä¸ªå¤–è®¾ä¸­æ–­è¯·æ±‚è¢«å±è”½ï¼Œè™½ç„¶è¿™ä¸ªå¤–è®¾å‡†å¤‡å·¥ä½œå·²ç»å®Œæˆï¼Œä¹Ÿä¸èƒ½å‘å‡ºä¸­æ–­è¯·æ±‚ã€‚
1. ä¸­æ–­å“åº”ã€å¤„ç†ã€è¿”å›
    1. å…³é—­ä¸­æ–­ä¿¡å·æ¥æ”¶å™¨
    1. ä¿å­˜ç°åœº(æˆ–ç§° Contextã€ä¸Šä¸‹æ–‡)
    1. ç»™å‡ºä¸­æ–­å…¥å£ï¼Œè½¬å…¥ä¸­æ–­æœåŠ¡ç¨‹åºæ‰§è¡Œ
    1. å¤„ç†å®Œæˆï¼Œè¿”å›å¹¶æ¢å¤ç°åœº
    1. å¼€å¯ä¸­æ–­ä¿¡å·æ¥æ”¶å™¨

> ä¸­æ–­æ’é˜Ÿå’Œä¸­æ–­åˆ¤ä¼˜

ä¸­æ–­ç”³è¯·æ˜¯éšæœºçš„ï¼Œæœ‰æ—¶ä¼šå‡ºç°å¤šä¸ªä¸­æ–­æºåŒæ—¶æå‡ºä¸­æ–­ç”³è¯·, CPUæ¯æ¬¡åªèƒ½å“åº”ä¸€ä¸ªä¸­æ–­æºçš„è¯·æ±‚ã€‚
CPUä¸å¯èƒ½å¯¹æ‰€æœ‰ä¸­æ–­è¯·æ±‚ä¸€è§†åŒä»ï¼Œå®ƒä¼šæ ¹æ®å„ä¸­æ–­æºå·¥ä½œæ€§è´¨çš„è½»é‡ç¼“æ€¥ï¼Œé¢„å…ˆå®‰æ’ä¸€ä¸ªä¼˜å…ˆçº§é¡ºåºã€‚å½“å¤šä¸ªä¸­æ–­æºåŒæ—¶ç”³è¯·ä¸­æ–­æ—¶ï¼Œå³æŒ‰æ­¤ä¼˜å…ˆçº§é¡ºåºè¿›è¡Œæ’é˜Ÿï¼Œç­‰å€™CPUå¤„ç†ã€‚

å¤šæ ¸CPUçš„ä¸­æ–­å¤„ç†å’Œå•æ ¸æœ‰å¾ˆå¤§ä¸åŒã€‚å¤šæ ¸çš„å„å¤„ç†å™¨æ ¸å¿ƒä¹‹é—´éœ€è¦é€šè¿‡ä¸­æ–­æ–¹å¼è¿›è¡Œé€šä¿¡ï¼Œæ‰€ä»¥CPUèŠ¯ç‰‡å†…éƒ¨æ—¢æœ‰å„å¤„ç†å™¨æ ¸å¿ƒçš„æœ¬åœ°ä¸­æ–­æ§åˆ¶å™¨ï¼Œåˆæœ‰è´Ÿè´£ä»²è£å„æ ¸ä¹‹é—´ä¸­æ–­åˆ†é…çš„å…¨å±€ä¸­æ–­æ§åˆ¶å™¨ã€‚  
ç°ä»Šçš„å¤šæ ¸å¤„ç†å™¨åœ¨ä¸­æ–­å¤„ç†å’Œä¸­æ–­æ§åˆ¶æ–¹é¢ä¸»è¦ä½¿ç”¨çš„æ˜¯APICï¼ˆAdvanced Programmable Interrupt Controllersï¼‰ï¼Œå³é«˜çº§ç¼–ç¨‹ä¸­æ–­æ§åˆ¶å™¨ã€‚å®ƒæ˜¯åŸºäºä¸­æ–­æ§åˆ¶å™¨ä¸¤ä¸ªåŸºç¡€åŠŸèƒ½å•å…ƒâ€”â€”æœ¬åœ°å•å…ƒä»¥åŠI/Oå•å…ƒçš„åˆ†å¸ƒå¼ä½“ç³»ç»“æ„ã€‚åœ¨å¤šæ ¸ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªæœ¬åœ°å’ŒI/O APICå•å…ƒèƒ½å¤Ÿä½œä¸ºä¸€ä¸ªæ•´ä½“é€šè¿‡APICæ€»çº¿äº’ç›¸æ“ä½œ

> ä½œç”¨å’Œä¼˜ç‚¹
1. å¯ä»¥ä½¿CPUå’Œå¤–è®¾åŒæ—¶å·¥ä½œï¼Œä½¿ç³»ç»Ÿå¯ä»¥åŠæ—¶åœ°å“åº”å¤–éƒ¨äº‹ä»¶ã€‚
1. å¯å…è®¸å¤šä¸ªå¤–è®¾åŒæ—¶å·¥ä½œï¼Œå¤§å¤§æé«˜äº†CPUçš„åˆ©ç”¨ç‡ï¼Œä¹Ÿæé«˜äº†æ•°æ®è¾“å…¥ã€è¾“å‡ºçš„é€Ÿåº¦ã€‚
1. å¯ä»¥ä½¿CPUåŠæ—¶å¤„ç†å„ç§è½¯ç¡¬ä»¶æ•…éšœï¼ˆæ¯”å¦‚è®¡ç®—æœºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå‡ºç°äº†éš¾ä»¥é¢„æ–™çš„æƒ…å†µæˆ–ä¸€äº›æ•…éšœï¼Œå¦‚ç”µæºæ‰ç”µã€å­˜å‚¨å‡ºé”™ã€è¿ç®—æº¢å‡ºç­‰ç­‰ã€‚è®¡ç®—æœºå¯ä»¥åˆ©ç”¨ä¸­æ–­ç³»ç»Ÿè‡ªè¡Œå¤„ç†ï¼Œè€Œä¸å¿…åœæœºæˆ–æŠ¥å‘Šå·¥ä½œäººå‘˜ã€‚ï¼‰


### MESI
> MESIï¼ˆModified Exclusive Shared Or Invalidï¼‰ 

************************

## é”®ç›˜
> [Keyboard input](https://wiki.archlinux.org/index.php/Keyboard_input)

> [go evdev](https://github.com/gvalkov/golang-evdev)  
> [Python evdev](https://python-evdev.readthedocs.io/en/latest/)  

> [https://keyboardtestt.com/](https://keyboardtestt.com/)`åœ¨çº¿æµ‹è¯•é”®ç›˜æ— å†²`  

************************

# æ“ä½œç³»ç»Ÿ
> [ç å†œç¿»èº«:æ“ä½œç³»ç»Ÿæ˜¯ä¸ªå¤§éª—å­ï¼Ÿ ](https://mp.weixin.qq.com/s?__biz=MzAxOTc0NzExNg==&mid=2665513894&idx=1&sn=3cf8faef41800f0dd52f84a0ae2d8065&chksm=80d67be5b7a1f2f31833dc71f8c67dc50e64b14bb5a25678155a7b39927b63db7c17510793d0&scene=21#wechat_redirect)`æè¿°äº†ç¨‹åºä»ç¡¬ç›˜ä¸­è¯»å–åˆ°å†…å­˜æ‰§è¡Œçš„æ•´ä¸ªè¿‡ç¨‹`

************************

# ç¼–ç¨‹è¯­è¨€
## è¯­è¨€çš„çš„æ¼”åŒ–
> [ç å†œç¿»èº«:ä¸€ä¸ªç¿»è¯‘å®¶æ—çš„å‘å®¶å²](https://mp.weixin.qq.com/s?__biz=MzAxOTc0NzExNg==&mid=2665513576&idx=1&sn=0fd7ba43902ff7b10376810118f68d62&chksm=80d67a2bb7a1f33d90a95be040987bc03033b0174cef6ccb9018203673c8c1fe192103d3ae41&scene=21#wechat_redirect) `ä½çº§è¯­è¨€åˆ°é«˜çº§è¯­è¨€çš„æ¼”åŒ–`

************************

# é€šç”¨æ¦‚å¿µ

## ç¼“å­˜
> å¸¸è§ç¼“å­˜æ·˜æ±°ç­–ç•¥ å…ˆè¿›å…ˆå‡ºç­–ç•¥ FIFOï¼ˆFirst Inï¼ŒFirst Outï¼‰ã€æœ€å°‘ä½¿ç”¨ç­–ç•¥ LFUï¼ˆLeast Frequently Usedï¼‰ã€æœ€è¿‘æœ€å°‘ä½¿ç”¨ç­–ç•¥ LRUï¼ˆLeast Recently Usedï¼‰

# Tips
## æ­»æœº
[è®¡ç®—æœºæ­»æœºçš„æ—¶å€™ï¼Œå®ƒåœ¨å¹²ä»€ä¹ˆï¼Ÿ](https://mp.weixin.qq.com/s/XR3k0Ka2klg6LpOVw_EASg)

