---
title: Webæ€§èƒ½è°ƒä¼˜
date: 2018-12-13 16:02:57
tags: 
    - Performance
categories: 
---

ğŸ’ 

- 1. [Webåº”ç”¨æ€§èƒ½ä¼˜åŒ–](#webåº”ç”¨æ€§èƒ½ä¼˜åŒ–)
- 2. [å®¢æˆ·ç«¯](#å®¢æˆ·ç«¯)
- 3. [æœåŠ¡ç«¯](#æœåŠ¡ç«¯)
    - 3.1. [å‹åŠ›æµ‹è¯•å‡†å¤‡](#å‹åŠ›æµ‹è¯•å‡†å¤‡)
    - 3.2. [æ€§èƒ½åŸºå‡† æŒ‡æ ‡](#æ€§èƒ½åŸºå‡†-æŒ‡æ ‡)
        - 3.2.1. [æ€§èƒ½ç›‘æ§å¹³å°](#æ€§èƒ½ç›‘æ§å¹³å°)
    - 3.3. [æµ‹è¯•å·¥å…·](#æµ‹è¯•å·¥å…·)
        - 3.3.1. [Apache BenchMark](#apache-benchmark)
        - 3.3.2. [Jmeter](#jmeter)
        - 3.3.3. [wrk](#wrk)
        - 3.3.4. [ali](#ali)
        - 3.3.5. [Httperf](#httperf)
        - 3.3.6. [k6](#k6)
- 4. [æ•°æ®åº“](#æ•°æ®åº“)
        - 4.0.1. [MySQL](#mysql)
            - 4.0.1.1. [ä¸»ä»å¤åˆ¶ä»¥åŠè¯»å†™åˆ†ç¦»](#ä¸»ä»å¤åˆ¶ä»¥åŠè¯»å†™åˆ†ç¦»)

ğŸ’  2024-09-06 11:36:43
****************************************
# Webåº”ç”¨æ€§èƒ½ä¼˜åŒ–

> [å‚è€ƒ: æ€æ ·æ­£ç¡®åš Web åº”ç”¨çš„å‹åŠ›æµ‹è¯•ï¼Ÿ](https://www.zhihu.com/question/19867883)  

> è´Ÿè½½æµ‹è¯•ã€å‹åŠ›æµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•
- æµ‹è¯•æ‰‹æ®µç›¸ä¼¼ï¼Œä½†æ˜¯ç›®çš„ä¸åŒï¼Œè´Ÿè½½æµ‹è¯•æ˜¯ä¸ºäº†å‘ç°ç³»ç»Ÿæ€§èƒ½é—®é¢˜ï¼Œæ€§èƒ½æµ‹è¯•æ˜¯ä¸ºäº†è·å–æ€§èƒ½æŒ‡æ ‡ï¼Œå‹åŠ›æµ‹è¯•æ˜¯é«˜è´Ÿè½½ä¸‹çš„è´Ÿè½½æµ‹è¯•

å¯¹äºwebåº”ç”¨æ¥è¯´ ä»å‰ç«¯æ¸²æŸ“é€Ÿåº¦ï¼Œåˆ°é¡µé¢å¤§å°ï¼Œsessionå­˜å‚¨æ•ˆç‡ï¼Œajaxæ€§èƒ½ï¼Œç¼“å­˜å‘½ä¸­ç‡ï¼Œæ•°æ®åº“è®¾è®¡åŠè®¿é—®é€Ÿåº¦ éƒ½è¦è€ƒè™‘ã€‚

# å®¢æˆ·ç«¯

æ¸²æŸ“å’Œè®¡ç®—åˆ†ç¦»

************************

# æœåŠ¡ç«¯
1. å¯¹äºwebåç«¯æ¥è¯´å°±æ˜¯è¯·æ±‚è¿‡å¤š, æ•°æ®åº“è¿æ¥æ± ä¸å¤Ÿç”¨, çº¿ç¨‹æ± å¤§é‡ç­‰å¾…çš„çº¿ç¨‹, è¯·æ±‚éå¸¸ç¼“æ…¢, ç›´æ¥è¿”å› 5xx é”™è¯¯ç ...

## å‹åŠ›æµ‹è¯•å‡†å¤‡

1. è½¯ç¡¬ä»¶ç‰ˆæœ¬è¦å’Œæ­£å¼æœåŠ¡å™¨ä¿æŒä¸€è‡´ã€‚
2. ç½‘ç»œä¹Ÿéœ€è¦å’Œæ­£å¼æœåŠ¡å™¨ä¿æŒä¸€è‡´ã€‚
3. åœ¨æµ‹è¯•é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œä¹Ÿè¦ä¿®æ”¹linuxçš„é»˜è®¤å¹¶å‘æ•°ã€‚

## æ€§èƒ½åŸºå‡† æŒ‡æ ‡
> [å‚è€ƒ: ç³»ç»Ÿååé‡ï¼ˆTPSï¼‰ã€ç”¨æˆ·å¹¶å‘é‡ã€æ€§èƒ½æµ‹è¯•æ¦‚å¿µå’Œå…¬å¼](http://www.cnblogs.com/freeton/archive/2013/05/31/3109815.html)

> å¤–åœ¨æŒ‡æ ‡
1.  ååé‡ã€‚æ¯ç§’é’Ÿå¤„ç†çš„è¯·æ±‚æ•°é‡ï¼›
2.  å“åº”æ—¶é—´ã€‚åº”ç”¨å¤„ç†ä¸€ä¸ªè¯·æ±‚çš„è€—æ—¶ï¼›
3.  é”™è¯¯ç‡ã€‚ä¸€æ‰¹è¯·æ±‚ä¸­å‡ºé”™çš„è¯·æ±‚å æ¯”ã€‚

> å†…åœ¨æŒ‡æ ‡
1.  CPUã€‚linuxä¸‹ä½¿ç”¨topå‘½ä»¤ï¼›
2.  å†…å­˜ã€‚linuxä¸‹ä½¿ç”¨topå‘½ä»¤ï¼›
3.  æœåŠ¡å™¨è´Ÿè½½ã€‚linuxä¸‹ä½¿ç”¨uptimeå‘½ä»¤,æŒ‰ç…§ç»éªŒå€¼ï¼ŒæœåŠ¡å™¨è´Ÿè½½åº”ä½äºé˜€å€¼çš„70%-80%ï¼›
4.  ç½‘ç»œã€‚ä¸»è¦åŒ…æ‹¬ç½‘ç»œæµé‡å’Œç½‘ç»œè¿æ¥çŠ¶æ€çš„ç›‘æ§,ä½¿ç”¨nmonå·¥å…·ï¼›
5.  ç£ç›˜IO linuxä¸‹å¯ä»¥ç”¨iostatç›‘æ§ç£ç›˜çŠ¶æ€ã€‚

### æ€§èƒ½ç›‘æ§å¹³å°
- [CAT](https://github.com/dianping/cat)
- Prometheus

************************

## æµ‹è¯•å·¥å…·
> [Github: HTTP(S) Benchmark Tools](https://github.com/denji/awesome-http-benchmark)  
> [load-testing](https://github.com/topics/load-testing)  
> [dperf](https://github.com/baidu/dperf)  

å¯ä»¥é€šè¿‡å‹åŠ›æµ‹è¯•å·¥å…·æˆ–è€…æµé‡é‡æ”¾ï¼Œå¤åˆ¶ ç­‰æ–¹å¼æ¨¡æ‹Ÿé«˜å¹¶å‘ä¸šåŠ¡åœºæ™¯

### Apache BenchMark
> ç®€ç§° ab [Doc](https://httpd.apache.org/docs/2.4/programs/ab.html) 

- å®‰è£… `sudo apt install apache2-utils`| `sudo pacman -S apache-tools`
- ç®€å•ä½¿ç”¨ `ab -c å¹¶å‘æ•° -n æ€»è¯·æ±‚æ•° URL`
    - æŸ¥çœ‹æ–‡æ¡£:`man ab` æˆ– `ab -h`

- æµ‹è¯•æœ¬æœºè¶…è¿‡100è¿æ¥æŠ¥é”™ 104: 
    - [Blog:è§£å†³é—®é¢˜](http://www.cnblogs.com/archoncap/p/5883723.html)

- `ab -c 5 -n 1000 -X 127.0.0.1:8888 -T application/json -p list.json -C 'JSESSIONID=xxx' URL` ä½¿ç”¨ Cookieå¹¶ä½¿ç”¨ä»£ç† å¯¹å‚æ•°ä¸ºjsonçš„æ¥å£å‘èµ·è¯·æ±‚
- è®¾ç½®Header`-H â€œAUTHORIZATION: Basic YWRtaW46YWRtaW4=â€œ`

### Jmeter
- [jmeter](http://jmeter.apache.org/download_jmeter.cgi) `apache ä¸‹çš„å¼€æºå‹æµ‹å·¥å…·`
- [Jmeterä¸­æ–‡ç½‘](http://www.jmeter.com.cn/)

### wrk
> [Githubåœ°å€](https://github.com/wg/wrk)  
> [å‚è€ƒ:  wrk å‹åŠ›æµ‹è¯• http benchmark POSTæ¥å£](http://www.cnblogs.com/felixzh/p/8400729.html)  
> [å‚è€ƒ: æ€§èƒ½æµ‹è¯•ä¹‹ï¼wrk(è½¬)](http://www.cnblogs.com/rainy-shurun/p/5867946.html)  

1. éœ€è¦æ‰‹åŠ¨ç¼–è¯‘å®‰è£… make

### ali
> [ali](https://github.com/nakabonne/ali)`ç»ˆç«¯å†…å›¾å½¢åŒ–å±•ç¤ºç»“æœ`

### Httperf
> [Github](https://github.com/httperf/httperf) `æ¯” ab æ›´å¼ºå¤§ï¼Œèƒ½æµ‹è¯•å‡º web æœåŠ¡èƒ½æ‰¿è½½çš„æœ€å¤§æœåŠ¡é‡åŠå‘ç°æ½œåœ¨é—®é¢˜ï¼›æ¯”å¦‚ï¼šå†…å­˜ä½¿ç”¨ã€ç¨³å®šæ€§ã€‚æœ€å¤§ä¼˜åŠ¿ï¼šå¯ä»¥æŒ‡å®šè§„å¾‹è¿›è¡Œå‹åŠ›æµ‹è¯•ï¼Œæ¨¡æ‹ŸçœŸå®ç¯å¢ƒã€‚`

### k6
> [Github k6](https://github.com/grafana/k6) `åƒå•å…ƒæµ‹è¯•ä¸€æ ·åšæ€§èƒ½æµ‹è¯•` 

************************

# æ•°æ®åº“

### MySQL
#### ä¸»ä»å¤åˆ¶ä»¥åŠè¯»å†™åˆ†ç¦»
- [è¯»å†™åˆ†ç¦»åšå®¢](http://www.cnblogs.com/luckcs/articles/2543607.html)
