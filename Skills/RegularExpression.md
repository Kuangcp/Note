---
title: æ­£åˆ™è¡¨è¾¾å¼
date: 2018-11-21 10:56:52
tags: 
categories: 
    - åŸºç¡€çŸ¥è¯†
---

ğŸ’ 

- 1. [æ­£åˆ™è¡¨è¾¾å¼](#æ­£åˆ™è¡¨è¾¾å¼)
    - 1.1. [åŸºæœ¬å­—ç¬¦](#åŸºæœ¬å­—ç¬¦)
    - 1.2. [ç‰¹æ®Šå­—ç¬¦](#ç‰¹æ®Šå­—ç¬¦)
    - 1.3. [å˜é‡](#å˜é‡)
    - 1.4. [é›¶å®½æ–­è¨€](#é›¶å®½æ–­è¨€)
- 2. [æ­£åˆ™è¡¨è¾¾å¼å¼•æ“](#æ­£åˆ™è¡¨è¾¾å¼å¼•æ“)
    - 2.1. [åŒ¹é…æ¨¡å¼](#åŒ¹é…æ¨¡å¼)
    - 2.2. [æ€§èƒ½é™·é˜±](#æ€§èƒ½é™·é˜±)
- 3. [è¯­è¨€å®ç°](#è¯­è¨€å®ç°)
    - 3.1. [Java](#java)
    - 3.2. [Python](#python)
    - 3.3. [Shell](#shell)
- 4. [Tips](#tips)

ğŸ’  2024-05-06 19:59:21
****************************************
# æ­£åˆ™è¡¨è¾¾å¼
> [Regular Expression Language - Quick Reference](https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference)  


## åŸºæœ¬å­—ç¬¦ 

| æ¨¡å¼ | ä½œç”¨ |
|:----|:----|
| `^`     | åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œé™¤éåœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨ï¼Œæ­¤æ—¶å®ƒè¡¨ç¤ºä¸æ¥å—è¯¥å­—ç¬¦é›†åˆã€‚
| `$`     | åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œåˆ™ $ ä¹ŸåŒ¹é… '\n' æˆ– '\r'ã€‚
| `( )`   | æ ‡è®°ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚å­è¡¨è¾¾å¼å¯ä»¥è·å–ä¾›ä»¥åä½¿ç”¨ï¼š`([0-9]{3})?` åŒ¹é…å‡ºç°ä¸‰ä¸ªæ•°å­—è¿ç€çš„å­—ç¬¦ä¸²
| `{N}`   | åŒ¹é…å‰é¢å‡ºç°çš„å­è¡¨è¾¾å¼ N æ¬¡
| `{N,M}` | åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ N-M æ¬¡
| `[...]` | åŒ¹é…å­—ç¬¦é›†çš„ä»»ä¸€å•ä¸ªå­—ç¬¦ ï¼š `[abcdejk]`å°±æ˜¯åŒ¹é…é‡Œé¢ä»»ä¸€å•ä¸ªå­—ç¬¦ 
| `[^...]`| ä¸åŒ¹é…æ­¤é›†åˆä¸­ä»»ä¸€å­—ç¬¦ï¼ŒåŒ…æ‹¬æŸä¸€èŒƒå›´çš„å­—ç¬¦ï¼š`[^0-9]` å­—ç¬¦ä¸²ä¸­ä¸å«æ•°å­—
| `[x-y]` | åŒ¹é…x-yèŒƒå›´å†…å•ä¸€å­—ç¬¦ ï¼š `[0-9] [a-z]`
| `*`     | åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ 0æˆ–å¤šæ¬¡ã€‚ 
| `+`     | åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ 1æˆ–å¤šæ¬¡ã€‚
| `?`     | åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ 0æˆ–1æ¬¡ï¼Œæˆ–æŒ‡æ˜ä¸€ä¸ªéè´ªå©ªé™å®šç¬¦ã€‚
| `.`     | åŒ¹é…é™¤æ¢è¡Œç¬¦ `\r` `\n` ä¹‹å¤–çš„ä»»ä½• å•ä¸ªå­—ç¬¦ã€‚
| `\`     | å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºæˆ–è½¬ä¹‰å­—ç¬¦ã€æˆ–åŸä¹‰å­—ç¬¦ã€æˆ–å‘åå¼•ç”¨ã€æˆ–å…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚'\n' åŒ¹é…æ¢è¡Œç¬¦ã€‚ 
| `|`     | æŒ‡æ˜ä¸¤é¡¹ä¹‹é—´çš„ä¸€ä¸ªé€‰æ‹©ã€‚

`ä»¥ä¸Šå­—ç¬¦éƒ½éœ€è½¬ä¹‰`

************************

## ç‰¹æ®Šå­—ç¬¦
| æ¨¡å¼ | ä½œç”¨ |
|:----|:----|
| `\d`    | åŒ¹é…ä»»ä½•åè¿›åˆ¶æ•°å­— ä¸ `[0-9]` ç›¸åŒ `\D`ä¸ä¹‹ç›¸å |
| `\w`    | åŒ¹é…ä»»ä½•å­—æ¯æ•°å­—å­—ç¬¦ ä¸ `[a-zA-Z0-9_]` ç›¸åŒï¼Œ `\W`ä¸ä¹‹ç›¸å |
| `\s`    | åŒ¹é…ä»»ä½•ç©ºå­—ç¬¦(ç©ºæ ¼ tab å›è½¦) ä¸ `[\n\t\r\v\f]` ç›¸åŒï¼Œ`\S`ä¸ä¹‹ç›¸å |
| `\b`    | åŒ¹é…ä»»ä½•å•è¯çš„è¾¹ç•Œ `\B`ä¸ä¹‹ç›¸å |
| `\N`    | åŒ¹é…å·²ä¿å­˜çš„å­ç»„Næ¬¡ `name\100` |
| `\c`    | é€å­—åŒ¹é…ä»»ä½•ç‰¹æ®Šå­—ç¬¦ `c` å°±æ˜¯è½¬ä¹‰å­—ç¬¦çš„ä½¿ç”¨ |
| `\A \Z` | åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹æˆ–ç»“æŸ |

> æ„é€ æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•å’Œåˆ›å»ºæ•°å­¦è¡¨è¾¾å¼çš„æ–¹æ³•ä¸€æ ·ã€‚ä¹Ÿå°±æ˜¯ç”¨å¤šç§å…ƒå­—ç¬¦ä¸æ“ä½œç¬¦å°†å°çš„è¡¨è¾¾å¼ç»“åˆåœ¨ä¸€èµ·æ¥åˆ›å»ºæ›´å¤§çš„è¡¨è¾¾å¼ã€‚
> æ­£åˆ™è¡¨è¾¾å¼çš„ç»„ä»¶å¯ä»¥æ˜¯å•ä¸ªçš„å­—ç¬¦ã€å­—ç¬¦é›†åˆã€å­—ç¬¦èŒƒå›´ã€å­—ç¬¦é—´çš„é€‰æ‹©æˆ–è€…æ‰€æœ‰è¿™äº›ç»„ä»¶çš„ä»»æ„ç»„åˆã€‚ 

************************

## å˜é‡

å¸¸ç”¨äºæ­£åˆ™æ›¿æ¢
1. `(\w*)_(\w*)_(\w*)` => `\l$1\u$2\u$3` 
    - user_name_flag => userNameFlag
1. `(.*)/\d+\.\d+\.\d+\.\d+(.*)` => `$1/1.1.1.1/$2` 
    - http://1.2.3.4/path/url => http://1.1.1.1/path/url

## é›¶å®½æ–­è¨€
> ç”¨äºæŸ¥æ‰¾åœ¨æŸäº›å†…å®¹(ä½†å¹¶ä¸åŒ…æ‹¬è¿™äº›å†…å®¹)ä¹‹å‰æˆ–ä¹‹åçš„ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬åƒ \b, ^, $, <, >, é‚£æ ·ç”¨äºæŒ‡å®šä¸€ä¸ªä½ç½®  
> è¿™ä¸ªä½ç½®åº”è¯¥æ»¡è¶³ä¸€å®šçš„æ¡ä»¶(å³æ–­è¨€)ï¼Œå› æ­¤å®ƒä»¬ä¹Ÿè¢«ç§°ä¸ºé›¶å®½æ–­è¨€

> [å‚è€ƒ: é›¶å®½æ–­è¨€](https://www.cnblogs.com/shangdawei/p/4673117.html)
> [æ­£åˆ™è¡¨è¾¾å¼çš„å…ˆè¡Œæ–­è¨€(lookahead)å’Œåè¡Œæ–­è¨€(lookbehind)](https://www.runoob.com/w3cnote/reg-lookahead-lookbehind.html)

- `(?=exp)`  é›¶å®½æ­£å‘å…ˆè¡Œæ–­è¨€(zero-width positive lookahead assertion) 
- `(?!exp)`  é›¶å®½è´Ÿå‘å…ˆè¡Œæ–­è¨€(zero-width negative lookahead assertion)
- `(?<=exp)` é›¶å®½æ­£å‘åè¡Œæ–­è¨€(zero-width positive lookbehind assertion)
- `(?<!exp)` é›¶å®½è´Ÿå‘åè¡Œæ–­è¨€(zero-width negative lookbehind assertion)

> egï¼š
- `(?<=a).*(?=b)` æå–abå­—ç¬¦ä¹‹é—´çš„å€¼

***************************
# æ­£åˆ™è¡¨è¾¾å¼å¼•æ“
æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªç”¨æ­£åˆ™ç¬¦å·å†™å‡ºçš„å…¬å¼ï¼Œç¨‹åºå¯¹è¿™ä¸ªå…¬å¼è¿›è¡Œè¯­æ³•åˆ†æï¼Œå»ºç«‹ä¸€ä¸ªè¯­æ³•åˆ†ææ ‘ï¼Œå†æ ¹æ®è¿™ä¸ªåˆ†ææ ‘ç»“åˆæ­£åˆ™è¡¨è¾¾å¼çš„å¼•æ“ç”Ÿæˆæ‰§è¡Œç¨‹åºï¼ˆè¿™ä¸ªæ‰§è¡Œç¨‹åºæˆ‘ä»¬æŠŠå®ƒç§°ä½œçŠ¶æ€æœºï¼Œä¹Ÿå«çŠ¶æ€è‡ªåŠ¨æœºï¼‰ï¼Œç”¨äºå­—ç¬¦åŒ¹é…ã€‚

è€Œè¿™é‡Œçš„æ­£åˆ™è¡¨è¾¾å¼å¼•æ“å°±æ˜¯ä¸€å¥—æ ¸å¿ƒç®—æ³•ï¼Œç”¨äºå»ºç«‹çŠ¶æ€æœºã€‚

ç›®å‰å®ç°æ­£åˆ™è¡¨è¾¾å¼å¼•æ“çš„æ–¹å¼æœ‰ä¸¤ç§ï¼šDFA [ç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº](https://en.wikipedia.org/wiki/Deterministic_finite_automaton) å’Œ NFA [éç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº](https://en.wikipedia.org/wiki/Nondeterministic_finite_automaton)ã€‚

å¯¹æ¯”æ¥çœ‹ï¼Œæ„é€  DFA è‡ªåŠ¨æœºçš„ä»£ä»·è¿œå¤§äº NFA è‡ªåŠ¨æœºï¼Œä½† DFA è‡ªåŠ¨æœºçš„æ‰§è¡Œæ•ˆç‡é«˜äº NFA è‡ªåŠ¨æœºã€‚

å‡è®¾ä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯ nï¼Œå¦‚æœç”¨ DFA è‡ªåŠ¨æœºä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼å¼•æ“ï¼Œåˆ™åŒ¹é…çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼›å¦‚æœç”¨ NFA è‡ªåŠ¨æœºä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼å¼•æ“ï¼Œç”±äº NFA è‡ªåŠ¨æœºåœ¨åŒ¹é…è¿‡ç¨‹ä¸­å­˜åœ¨å¤§é‡çš„åˆ†æ”¯å’Œå›æº¯ï¼Œå‡è®¾ NFA çš„çŠ¶æ€æ•°ä¸º sï¼Œåˆ™è¯¥åŒ¹é…ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(ns)ã€‚

NFA è‡ªåŠ¨æœºçš„ä¼˜åŠ¿æ˜¯æ”¯æŒæ›´å¤šåŠŸèƒ½ã€‚ä¾‹å¦‚ï¼šæ•è· groupã€ç¯è§†ã€å æœ‰ä¼˜å…ˆé‡è¯ç­‰é«˜çº§åŠŸèƒ½ã€‚è¿™äº›åŠŸèƒ½éƒ½æ˜¯åŸºäºå­è¡¨è¾¾å¼ç‹¬ç«‹è¿›è¡ŒåŒ¹é…ï¼Œå› æ­¤åœ¨ç¼–ç¨‹è¯­è¨€é‡Œï¼Œä½¿ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼åº“**éƒ½æ˜¯åŸºäº NFA å®ç°çš„**ã€‚

## åŒ¹é…æ¨¡å¼
è´ªå©ªæ¨¡å¼ï¼ˆGreedyï¼‰
æ‡’æƒ°æ¨¡å¼ï¼ˆReluctantï¼‰
ç‹¬å æ¨¡å¼ï¼ˆPossessiveï¼‰

## æ€§èƒ½é™·é˜±
> [å¦‚ä½•ä¼˜åŒ–æ­£åˆ™è¡¨è¾¾å¼æ€§èƒ½ï¼Ÿ](https://segmentfault.com/a/1190000039941785)

************************

# è¯­è¨€å®ç°
## Java

```java
    Pattern pt = Pattern.compile("\\d+");
    pt.matcher("12,3");
```

æ³¨æ„ï¼š
- Patternå¯¹è±¡å°½å¯èƒ½å¤ç”¨ï¼Œcompileå¾ˆè€—CPUèµ„æº

## Python
- ![re.jpg](https://raw.githubusercontent.com/Kuangcp/ImageRepos/master/Tech/python/re.jpg)

## Shell
- [Shellæ­£åˆ™è¡¨è¾¾å¼](http://man.linuxde.net/docs/shell_regex.html)

************************

# Tips
- è¿ç»­é‡å¤å­—ç¬¦çš„åŒ¹é… `(.)\1+` [æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…é‡å¤çš„å­—ç¬¦ä¸²](http://www.aijquery.cn/Html/jqueryjiqiao/181.html)
