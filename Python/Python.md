---
title: Python åŸºç¡€
date: 2018-12-13 16:00:45
tags: 
    - åŸºç¡€
categories: 
    - Python
---

ğŸ’ 

- 1. [Python](#python)
- 2. [åŸºç¡€](#åŸºç¡€)
    - 2.1. [ä»£ç é£æ ¼](#ä»£ç é£æ ¼)
    - 2.2. [åºåˆ—](#åºåˆ—)
        - 2.2.1. [åˆ—è¡¨ list](#åˆ—è¡¨-list)
        - 2.2.2. [å…ƒç»„ tuple](#å…ƒç»„-tuple)
        - 2.2.3. [å­—ç¬¦ä¸² str](#å­—ç¬¦ä¸²-str)
            - 2.2.3.1. [å­—ç¬¦ä¸²ç¼–ç é—®é¢˜](#å­—ç¬¦ä¸²ç¼–ç é—®é¢˜)
        - 2.2.4. [å­—å…¸ dict](#å­—å…¸-dict)
    - 2.3. [è¿ç®—ç¬¦](#è¿ç®—ç¬¦)
    - 2.4. [å‡½æ•°](#å‡½æ•°)
    - 2.5. [åŒ…](#åŒ…)
    - 2.6. [ç±»](#ç±»)
        - 2.6.1. [ç»§æ‰¿](#ç»§æ‰¿)
    - 2.7. [å¼‚å¸¸](#å¼‚å¸¸)
    - 2.8. [è¯»å–å‘½ä»¤è¡Œå‚æ•°](#è¯»å–å‘½ä»¤è¡Œå‚æ•°)
        - 2.8.1. [docopt](#docopt)
        - 2.8.2. [Python Fire](#python-fire)
- 3. [åº”ç”¨](#åº”ç”¨)
    - 3.1. [æ¨¡å—](#æ¨¡å—)
        - 3.1.1. [http](#http)
        - 3.1.2. [virtualenv](#virtualenv)
        - 3.1.3. [pip](#pip)
            - 3.1.3.1. [Requirements files](#requirements-files)
            - 3.1.3.2. [å‘å¸ƒåŒ…åˆ° pypi](#å‘å¸ƒåŒ…åˆ°-pypi)
        - 3.1.4. [matplotlib](#matplotlib)
    - 3.2. [æ–‡ä»¶æ“ä½œ](#æ–‡ä»¶æ“ä½œ)
        - 3.2.1. [JSON](#json)
        - 3.2.2. [confæˆ–è€…ini](#confæˆ–è€…ini)
    - 3.3. [æ—¥å¿—](#æ—¥å¿—)
    - 3.4. [æµ‹è¯•](#æµ‹è¯•)
    - 3.5. [æ•°æ®åº“](#æ•°æ®åº“)
        - 3.5.1. [MySQL](#mysql)
        - 3.5.2. [Redis](#redis)
    - 3.6. [éƒ¨ç½²](#éƒ¨ç½²)
        - 3.6.1. [Dockeréƒ¨ç½²](#dockeréƒ¨ç½²)
    - 3.7. [å¸¸è§åº“](#å¸¸è§åº“)
        - 3.7.1. [å†…ç½®åº“](#å†…ç½®åº“)
        - 3.7.2. [æ—¶é—´å¤„ç†](#æ—¶é—´å¤„ç†)
        - 3.7.3. [ä¸‰æ–¹åº“](#ä¸‰æ–¹åº“)

ğŸ’  2024-10-13 17:59:27
****************************************
# Python
> [Official Site](https://www.python.org/)  
> [Doc: Python2](https://docs.python.org/2/) | [Doc: Python3](https://docs.python.org/3/)

> [Pythonåˆå­¦è€…ï¼ˆé›¶åŸºç¡€å­¦ä¹ Pythonã€Pythonå…¥é—¨ï¼‰ä¹¦ç±ã€è§†é¢‘ã€èµ„æ–™ã€ç¤¾åŒºæ¨è](https://github.com/Yixiaohan/codeparkshare)
> [å‚è€ƒ: Python3çš„ä¸»è¦åº”ç”¨](http://www.techug.com/post/what-can-you-do-with-python-the-3-main-applications.html)
- [Pythonä¸­çš„å¤šæ€](http://blog.csdn.net/shangzhihaohao/article/details/7065675)
> [Anaconda](https://docs.anaconda.com/anaconda/install/linux)`ä¸€ç«™å¼é›†æˆç¯å¢ƒ`

- [python-gtk3](https://python-gtk-3-tutorial.readthedocs.io/en/latest/introduction.html) `python-gtk3çš„å¼€å‘`
- [ä¸€è¯‘](http://python.usyiyi.cn/)`ç¿»è¯‘äº†å¤§é‡Pythonæ–‡æ¡£`

> [Python é¡¹ç›®å·¥ç¨‹åŒ–å¼€å‘æŒ‡å—](https://github.com/pyloong/pythonic-project-guidelines)

å…³äºPython2ä¸3çš„å˜åŒ–  
> æ‘˜è‡ª Pythonæ ¸å¿ƒç¼–ç¨‹ ç¬¬ä¸‰ç‰ˆ Wesley Chunè‘—  

- print å˜ä¸º print()
- é»˜è®¤å­—ç¬¦çš„ç¼–ç æ˜¯ Unicode
- å¢åŠ å•ç±» ç±»å‹
- æ›´æ–°å¼‚å¸¸çš„è¯­æ³•
- æ›´æ–°äº†æ•´æ•°
- è¿­ä»£æ— å¤„ä¸åœ¨

> åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…æ¨¡å—: pydoc pydoc3

# åŸºç¡€
> è¿è¡Œè„šæœ¬
1. python æºæ–‡ä»¶
1. æºæ–‡ä»¶ ç¬¬ä¸€è¡Œå£°æ˜ `#!/usr/bin/python` å’Œshellè„šæœ¬ä¸€æ ·çš„ç”¨æ³•, ç„¶å ./æºæ–‡ä»¶

- ç¼©è¿›æ¥è¡¨ç¤ºä»£ç å—çš„åµŒå¥—å…³ç³»
- å•è¡Œæ³¨é‡Šï¼š`#` å¤šè¡Œæ³¨é‡Šï¼š `""" """`
- ç©ºè¡Œçš„é‡è¦æ€§ï¼Œä»£ç æ®µä¹‹é—´æœ‰ç©ºè¡Œï¼ŒPythonä¹‹ç¦…

> åŸºç¡€æ•°æ®ç±»å‹
- æ•°å€¼ç±»å‹
    - æ•´å‹ (`-2^31 ~ 2^31-1`) `0b`,`0`,`0x`  2,8,16 è¿›åˆ¶
    - æµ®ç‚¹å‹ `1.2e2` `13.34e-2`
    - å¤æ•°  `3+4j` `0.1-0.5j`

- å¸ƒå°”å‹
    - 0 æˆ– 0.0   è§†ä½œ False
    - `""` `''`  è§†ä½œ False
    - () [] {}   è§†ä½œ False
    
- å­—ç¬¦ä¸²
    - å•å¼•å· åŒå¼•å·: å•è¡Œå­—ç¬¦ä¸²
    - ä¸‰å¼•å· å¤šè¡Œå­—ç¬¦ä¸²

- ç©ºå€¼ None

- å±€éƒ¨å˜é‡ï¼š 
    - `_` æ ‡è¯†å˜é‡éšè—
- å…¨å±€å˜é‡ï¼š å®šä¹‰åœ¨å‡½æ•°å¤–çš„å˜é‡ï¼Œä¹Ÿç§°å…¬ç”¨å˜é‡ï¼Œå‡½æ•°ä¸­ `global x` å£°æ˜å¼•ç”¨å…¨å±€å˜é‡x

- é€»è¾‘è¿ç®—ç¬¦
    - and or not
- é€‰æ‹©ï¼š
    - if elif else
- for å¾ªç¯ï¼š
    - `for in ` `while ` ä¾‹å¦‚ï¼š`for i in range(1,10,2):`  èŒƒå›´ [1,10) å¢é‡ä¸º2
    - pass è¯­å¥ï¼Œå½“æŸä¸ªå­å¥æ²¡æœ‰ä»»ä½•æ“ä½œï¼Œï¼Œç”¨passä¿æŒç¨‹åºç»“æ„å®Œæ•´æ€§ ä¸å½±å“ä¸‹ä¸€å¥ ä¸åƒcontinue
- while å¾ªç¯
    - `while True:`` while â€˜2â€™ in nums:`` while num<2:`  
    - `while åˆ—è¡¨: ` ç›´åˆ°åˆ—è¡¨ä¸ºç©ºé€€å‡ºå¾ªç¯

```python
    if (b==0) and (a==1) :
        pass
        print("pass")
    else:
        print("Hi")
```
1. ä¼˜åŒ–ä»£ç  `python -O -m py_compile test.py` 

## ä»£ç é£æ ¼
> [PEP8](https://www.python.org/dev/peps/pep-0008/) `å®˜æ–¹å»ºè®®`

- ä¸€è¡Œåªå†™ä¸€å¥
- è¡¨è¾¾å¼å°½é‡ä¸è¦çœç•¥æ‹¬å·ï¼Œæœ‰åŠ©äºç†è§£
- å‡½æ•°çš„è¡Œæ•°ä¸è¦è¶…è¿‡100è¡Œ
- å°½é‡ä½¿ç”¨ç³»ç»Ÿå‡½æ•°
- å°½é‡ä½¿ç”¨å±€éƒ¨å˜é‡ï¼Œä¸è¦ä½¿ç”¨å…¨å±€
- å¾ªç¯ï¼Œåˆ†æ”¯ï¼Œæœ€å¥½ä¸è¦è¶…è¿‡5å±‚
- å°½é‡å‡å°‘å¦å®šçš„æ¡ä»¶è¯­å¥
- å¯¹è¾“å…¥çš„æ•°æ®è¿›è¡Œåˆæ³•æ€§æ£€æŸ¥

`å·¨å‘: tabå’Œç©ºæ ¼ä¸èƒ½æ··ç”¨,å¦‚æœä½ å¤åˆ¶åˆ«äººçš„ä»£ç æ˜¯tab,è‡ªå·±æ•²ç©ºæ ¼,å°±ä¼šç¼©è¿›é”™è¯¯!!!!, å¤©ç­tabç©ºæ ¼ä¿å¹³å®‰, è¦ä¸æ˜¯kateç¼–è¾‘å™¨æ˜¾ç¤ºäº†tabå­—ç¬¦,æ‰¾åŠå¤©éƒ½ä¸çŸ¥é“é”™åœ¨å“ª`

- [Google å¼€æºé¡¹ç›®é£æ ¼æŒ‡å— (ä¸­æ–‡ç‰ˆ)](http://zh-google-styleguide.readthedocs.io/en/latest/google-python-styleguide/background/) 
    - `import this` å°±ä¼šè¾“å‡ºZen Of Python | [å®˜æ–¹æ–‡æ¡£](https://www.python.org/dev/peps/pep-0020/)
```
    ä¼˜ç¾èƒœäºä¸‘é™‹ï¼ˆPython ä»¥ç¼–å†™ä¼˜ç¾çš„ä»£ç ä¸ºç›®æ ‡ï¼‰
    æ˜äº†èƒœäºæ™¦æ¶©ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯æ˜äº†çš„ï¼Œå‘½åè§„èŒƒï¼Œé£æ ¼ç›¸ä¼¼ï¼‰
    ç®€æ´èƒœäºå¤æ‚ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯ç®€æ´çš„ï¼Œä¸è¦æœ‰å¤æ‚çš„å†…éƒ¨å®ç°ï¼‰
    å¤æ‚èƒœäºå‡Œä¹±ï¼ˆå¦‚æœå¤æ‚ä¸å¯é¿å…ï¼Œé‚£ä»£ç é—´ä¹Ÿä¸èƒ½æœ‰éš¾æ‡‚çš„å…³ç³»ï¼Œè¦ä¿æŒæ¥å£ç®€æ´ï¼‰
    æ‰å¹³èƒœäºåµŒå¥—ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯æ‰å¹³çš„ï¼Œä¸èƒ½æœ‰å¤ªå¤šçš„åµŒå¥—ï¼‰
    é—´éš”èƒœäºç´§å‡‘ï¼ˆä¼˜ç¾çš„ä»£ç æœ‰é€‚å½“çš„é—´éš”ï¼Œä¸è¦å¥¢æœ›ä¸€è¡Œä»£ç è§£å†³é—®é¢˜ï¼‰
    å¯è¯»æ€§å¾ˆé‡è¦ï¼ˆä¼˜ç¾çš„ä»£ç æ˜¯å¯è¯»çš„ï¼‰
    å³ä¾¿å‡å€Ÿç‰¹ä¾‹çš„å®ç”¨æ€§ä¹‹åï¼Œä¹Ÿä¸å¯è¿èƒŒè¿™äº›è§„åˆ™ï¼ˆè¿™äº›è§„åˆ™è‡³é«˜æ— ä¸Šï¼‰
    
    ä¸è¦åŒ…å®¹æ‰€æœ‰é”™è¯¯ï¼Œé™¤éä½ ç¡®å®šéœ€è¦è¿™æ ·åšï¼ˆç²¾å‡†åœ°æ•è·å¼‚å¸¸ï¼Œä¸å†™ except:pass é£æ ¼çš„ä»£ç ï¼‰
    
    å½“å­˜åœ¨å¤šç§å¯èƒ½ï¼Œä¸è¦å°è¯•å»çŒœæµ‹
    è€Œæ˜¯å°½é‡æ‰¾ä¸€ç§ï¼Œæœ€å¥½æ˜¯å”¯ä¸€ä¸€ç§æ˜æ˜¾çš„è§£å†³æ–¹æ¡ˆï¼ˆå¦‚æœä¸ç¡®å®šï¼Œå°±ç”¨ç©·ä¸¾æ³•ï¼‰
    è™½ç„¶è¿™å¹¶ä¸å®¹æ˜“ï¼Œå› ä¸ºä½ ä¸æ˜¯ Python ä¹‹çˆ¶ï¼ˆè¿™é‡Œçš„ Dutch æ˜¯æŒ‡ Guido ï¼‰
    
    åšä¹Ÿè®¸å¥½è¿‡ä¸åšï¼Œä½†ä¸å‡æ€ç´¢å°±åŠ¨æ‰‹è¿˜ä¸å¦‚ä¸åšï¼ˆåŠ¨æ‰‹ä¹‹å‰è¦ç»†æ€é‡ï¼‰
    
    å¦‚æœä½ æ— æ³•å‘äººæè¿°ä½ çš„æ–¹æ¡ˆï¼Œé‚£è‚¯å®šä¸æ˜¯ä¸€ä¸ªå¥½æ–¹æ¡ˆï¼›åä¹‹äº¦ç„¶ï¼ˆæ–¹æ¡ˆæµ‹è¯„æ ‡å‡†ï¼‰
    
    å‘½åç©ºé—´æ˜¯ä¸€ç§ç»å¦™çš„ç†å¿µï¼Œæˆ‘ä»¬åº”å½“å¤šåŠ åˆ©ç”¨ï¼ˆå€¡å¯¼ä¸å·å¬ï¼‰
```

## åºåˆ—
> åºåˆ—é€šç”¨æ“ä½œï¼ˆåŒ…å«ï¼šå­—ç¬¦ä¸²ï¼Œåˆ—è¡¨ï¼Œå…ƒç»„ï¼‰

- `ç´¢å¼•` ä»å·¦è‡³å³ï¼š`0,1,2...n` ä»å³è‡³å·¦ï¼š`-1,-2...-n`
- `åˆ‡ç‰‡`ï¼ˆæˆªå–åºåˆ—çš„éƒ¨åˆ†ï¼‰ `temp[:]` è¿”å›ä¸€ä¸ªå‰¯æœ¬
    - `temp[2:4]` æ•°å­¦ä¸­çš„ `[2,4)` 
    - `temp[1:]` 1åˆ°æœ€å `temp[-3:]` *[-3,-1]*
    - `temp[:4]` [0,4) `temp[:-3]` *[0,-3]*
- `åŠ  `ï¼šlista+listb ç›´æ¥è¿æ¥
- `ä¹˜`ï¼šlista*4
- `åˆ¤æ–­æ˜¯å¦å­˜åœ¨`ï¼š`in` `not int`
- len()
- min() max() sum() è¦æ±‚å…ƒç´ å…¨æ˜¯æ•°å€¼

************************

### åˆ—è¡¨ list
- å…ƒç´ å¯åŒ…å« å­—ç¬¦ä¸²ï¼Œæµ®ç‚¹ï¼Œæ•´å‹ï¼Œåˆ—è¡¨ï¼Œå¸ƒå°”
- æ“ä½œï¼š
    - å¢åŠ  + ï¼Œ`append()/extend()`å°¾éƒ¨åŠ å…¥å…ƒç´ /åˆ—è¡¨  `insert(index, "")` å…ƒç´ æ’å…¥åˆ°ä»»æ„ä½ç½®,å…¶åå…ƒç´ åç§»
    - æ£€ç´¢ count() in 
    - åˆ é™¤ ï¼š`del list[2] `/ `remove("apple")` /`pop(index) indexä¸ºç©ºæŒ‡æœ€åä¸€ä¸ª`
    - æ°¸ä¹…æ€§æ’åºï¼šsort() a-z ` sort(reverse=True) z-a` åˆ—è¡¨å…¨æ˜¯å­—ç¬¦ä¸²æ‰å¯
    - ä¸´æ—¶æ€§æ’åºï¼šsorted() ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šé¢çš„å‚æ•°   åˆ—è¡¨å…¨æ˜¯å­—ç¬¦ä¸²æ‰å¯
    - æ°¸ä¹…æ€§çš„é€†åºåˆ—è¡¨:reverse() 
- ç±»ä¼¼æ•°ç»„çš„æ“ä½œï¼Œä¾‹å¦‚å£°æ˜æ•°ç»„ï¼š[å‚è€ƒåšå®¢](http://blog.csdn.net/minsenwu/article/details/7872679)
    - åŸå§‹çš„å®šä¹‰å°±æ˜¯ lists = [1, 2, 4]
    - è‹¥è¦å®šä¹‰è¿ç»­åˆ—è¡¨ lists = range(0, 100) å¾—åˆ°çš„æ˜¯rangeå¯¹è±¡ä¸æ˜¯åˆ—è¡¨å¯¹è±¡
    - è‹¥è¦å®šä¹‰å¤§å°1000å…¨ä¸º0åˆ—è¡¨ lists = [0 for x in range(0, 1000)]
- äºŒç»´æ•°ç»„çš„å®šä¹‰ï¼š
    - åŸå§‹ï¼š lists = [[1, 2], [3, 4]]
    - ä»¿é€ ä¸€ç»´çš„å®šä¹‰ï¼š lists = [[0 for x in range(10)] for y in range(10)] 10*10 åˆå§‹ä¸º0çš„åˆ—è¡¨
    - ç®€ä¾¿ä½†æ˜¯ä¸å¯è¡Œçš„æ–¹æ³•ï¼š `lists = [[0]*10]*10` è¿™æ˜¯ä¸ªå‘ï¼Œ åªæ˜¯å£°æ˜äº†ä¸€ç»´æ•°ç»„ï¼Œç„¶åå¤šæ¬¡å¼•ç”¨ï¼Œ è™½ç„¶çœ‹èµ·æ¥æ˜¯äºŒç»´ï¼Œ å¼•ç”¨æ•°æ®å°±ä¼šå‘ç°æ˜¯ä¸€ç»´  

> set() å‡½æ•°, è¿”å›ç»“æœåˆ™æ˜¯ä¸é‡å¤çš„å…ƒç´ é›†åˆ

************************

### å…ƒç»„ tuple
- å…ƒç»„å’Œåˆ—è¡¨ç±»ä¼¼ä½†æ˜¯å…ƒç»„æ˜¯åˆ›å»ºä¸å¯æ›´æ”¹çš„ 
    - å’Œåˆ—è¡¨ç›¸æ¯”ï¼Œç›¸åŒç‚¹ï¼šæŒ‰å®šä¹‰çš„é¡ºåºæ’åºï¼Œè´Ÿç´¢å¼•ä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨åˆ†ç‰‡
    - ä¸åŒç‚¹ï¼šå…ƒç»„ä½¿ç”¨çš„æ˜¯()ï¼Œä¸èƒ½å¢åŠ åˆ é™¤å…ƒç´ ï¼Œæ²¡æœ‰indexæ–¹æ³•ä½†æ˜¯æœ‰inï¼Œå¯ä»¥åœ¨å­—å…¸ä¸­ä½œä¸ºé”®,åˆ—è¡¨ä¸å¯ä»¥
    - ç”±äºå…·æœ‰å†™ä¿æŠ¤ï¼Œä»£ç å®‰å…¨ï¼Œæ“ä½œé€Ÿåº¦ç•¥å¿«åˆ—è¡¨
- æ“ä½œï¼š
    - è®¿é—®ï¼šå’Œåˆ—è¡¨ä¸€æ ·, ä½¿ç”¨ç´¢å¼•å’Œåˆ†ç‰‡
    - è¿æ¥ï¼š+ è¿æ¥å¾—åˆ°æ–°çš„å…ƒç»„
    - åˆ é™¤ï¼šdel åˆ é™¤æ•´ä¸ªå…ƒç»„

************************

### å­—ç¬¦ä¸² str
- str() å°†å¯¹è±¡è½¬åŒ–æˆå­—ç¬¦ä¸² ï¼ˆæ³¨ï¼šPythonä¸­ä¸èƒ½åƒJavaä¸€æ ·å­—ç¬¦ä¸²å’Œæ•°å€¼ç›´æ¥+ï¼‰
- repr() æ³¨æ„å’Œstr()çš„åŒºåˆ«
- `r"d:\python27\"` rå‰ç¼€è¡¨ç¤ºè½¬ä¹‰å­—ç¬¦çœ‹æˆæ™®é€šå­—ç¬¦
- å› ä¸ºPythonå­—ç¬¦ä¸²å®ç°æ˜¯ç±»ä¼¼å­—ç¬¦æ•°ç»„ï¼Œ`temp = "python" temp[0]` ç»“æœï¼šp `temp.index("p")` ç»“æœæ˜¯ï¼š0
- æ“ä½œï¼š
    - `index('s')` æ‰¾åˆ°så­—ç¬¦çš„ä¸‹æ ‡
    - `find('s',[start,end])` æ‰¾sçš„ä¸‹æ ‡ï¼Œåªæœ‰ä¸€ä¸ªæ•´æ•°å‚æ•°åˆ™æ˜¯start
    - `replace('s','v')` æ›¿æ¢
    - `count('sd')` è®¡æ•°
    - `split('')` æ­£åˆ™åˆ‡åˆ† ç©ºå‚æ•°é»˜è®¤æ˜¯ç©ºæ ¼
    - `join('')` åˆ—è¡¨è½¬åŒ–æˆå­—ç¬¦ä¸²çš„æ–¹æ³•
    - `cmp(str1,str2)` æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰
    - `+`  è¿›è¡Œæ‹¼æ¥ å¯ä»¥æ‹¼æ¥å­—ç¬¦ä¸² åˆ—è¡¨
    - `a in b` åˆ¤æ–­aæ˜¯å¦åœ¨bé‡Œå­˜åœ¨
    - `*` é‡å¤åºåˆ—  ä¾‹å¦‚ `print "-"*20` å°±ä¼šè¾“å‡º20ä¸ª - 
    - `b = "www.github.com" `  `c = b.split(".")` `"#".join(c)` å®ç°äº†å°†å­—ç¬¦ä¸²çš„ . æ¢æˆäº†#
    - `"i am %s %d" % ("python",67)  `%s %d %f å’ŒCè¯­è¨€ä¸€æ ·å ä½ç¬¦
        - æ–°çš„æ–¹å¼ `"i am {0} {1} ..".format(23,"ret")`  
        - æˆ–è€…`"i am {name} {age} ..".format(age=23,name="ret")`
        - å­—å…¸æ–¹å¼ 
    - `title()` é¦–å­—æ¯å¤§å†™ 

************************

`å­—ç¬¦ä¸²ï¼Œåˆ—è¡¨ï¼Œå…ƒç»„ç›¸äº’è½¬æ¢ï¼š`
- å­—ç¬¦ä¸²-åˆ—è¡¨ ï¼š list("python")
- å­—ç¬¦ä¸²-å…ƒç»„ ï¼š tuple("python")
- åˆ—è¡¨æˆ–å…ƒç»„-å­—ç¬¦ä¸² join(obj) å‚æ•°æ˜¯åˆ—è¡¨æˆ–å…ƒç»„ç±»å‹ï¼Œå…¶å…ƒç´ åªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹

#### å­—ç¬¦ä¸²ç¼–ç é—®é¢˜
> [ Python3 çš„ bytes str ä¹‹åˆ« ](http://www.ituring.com.cn/article/1116)

![strå’Œbytesçš„å…³ç³»](https://raw.githubusercontent.com/Kuangcp/ImageRepos/masters/Tech/python/str_bytes.jpeg)

- è§£ç  `encode("utf-8")`ï¼š str -> bytes
- ç¼–ç  `decode()`ï¼š bytes -> str

```python
    # coding:utf-8
    unicode_str = unicode('ä½¿ç”¨',encoding='utf-8')
    print unicode_str.encode('utf-8')
```

```python
    import codecs
    codecs.open('filename',encoding='utf-8')
```
- å› ä¸ºæ–‡ä»¶ä¸æ˜¯UTF8ï¼š`UnicodeDecodeError: 'utf-8' codec can't decode byte 0xb9 in position 2: invalid start byte `

************************

### å­—å…¸ dict
- é€šè¿‡ç”¨ç©ºé—´æ¥æ¢å–æ—¶é—´ï¼Œä¸åˆ—è¡¨ç›¸æ¯”ï¼Œé”®çš„å¢åŠ ä¸å½±å“æŸ¥æ‰¾æ’å…¥é€Ÿåº¦ï¼Œéœ€è¦å ç”¨å¤§é‡å†…å­˜ 
- ç‰¹æ€§ï¼š
    - å€¼æ˜¯å¯ä»¥æ˜¯ä»»æ„çš„ï¼Œç”šè‡³æ˜¯å­—å…¸åµŒå¥—
    - é”®å¿…é¡»ä¸å¯å˜ï¼Œåªèƒ½ç”± æ•°å€¼ï¼Œå­—ç¬¦ä¸²ï¼Œå…ƒç»„ï¼Œä¸èƒ½ç”¨åˆ—è¡¨
- æ“ä½œï¼š
    - å®šä¹‰ dict={}
    - æ·»åŠ  `dict['count'] = 1`
    - è·å– `count = dict['count]` ä½†æ˜¯å¦‚æœå­—å…¸ä¸­æ²¡æœ‰è¯¥key, ä¼šæŠ›å‡ºå¼‚å¸¸
    - è·å– `get(key)` è·å–ä¸åˆ°è¿”å› None
    - è¿”å›æ‰€æœ‰key/value `keys() values()`
    - è½¬åŒ–å…ƒç»„ ï¼šitems() 
        - å¯ç”¨äºéå† `for key,value in dict.items():`
    - åˆ é™¤æŒ‡å®šé”®ï¼šdel() `del dict['name']` 
    - åˆ é™¤æ‰€æœ‰ï¼šclear() 
    - åˆ é™¤æŒ‡å®šé”®å¹¶è¿”å›å€¼ ï¼špop() 
    - åˆå¹¶å¦ä¸€ä¸ªå­—å…¸ï¼šupdate() 
    - in 

- åµŒå¥—ï¼š
    - å­—å…¸å¥—åˆ—è¡¨ `{'d':['we','e']}` 
    - åˆ—è¡¨å¥—å­—å…¸ï¼Œå½“æˆæ™®é€šç±»å‹åŒ…å«å³å¯
    - å­—å…¸å¥—å­—å…¸
    
## è¿ç®—ç¬¦
- ç®—æœ¯è¿ç®—ç¬¦
    - åŠ å‡ä¸€æ ·ï¼Œ`*` ä¹˜,ä¸ä»…å¯ä»¥ç”¨äºæ•°å­—ï¼Œè¿˜å¯ä»¥ç”¨äºå­—ç¬¦ä¸² ï¼Œ`/` é™¤ï¼Œå’ŒJavaä¸ä¸€æ ·ï¼Œæ•´æ•°ç›¸é™¤ä¹Ÿä¼šå¾—åˆ°æµ®ç‚¹æ•°
    - `//` å–æ•´é™¤ï¼Œå¾—åˆ°å•†çš„æ•´æ•°éƒ¨åˆ† ï¼Œ`%` å–ä½™æ•° ï¼Œ`**` å¹‚è¿ç®— å¯ä»¥ç”¨æ¥å¼€æ ¹
- å…³ç³»è¿ç®—ç¬¦
    - éƒ½æ˜¯å’ŒJavaä¸€è‡´
- é€»è¾‘è¿ç®—ç¬¦
    - and or not 
- èº«ä»½è¿ç®—ç¬¦ 
    - is : `a is b` å°±æ˜¯æ¯”è¾ƒ id(a) id(b) ç›¸åŒåˆ™æ˜¯è¿”å›1
    - is not æ¯”è¾ƒid ä¸ç›¸åŒè¿”å›1

- ä½è¿ç®—ç¬¦
    - `<< >>` å·¦å³ç§» 
    - ` & | `æŒ‰ä½ä¸æˆ–
    - `^  ~` æŒ‰ä½å¼‚æˆ– æŒ‰ä½ç¿»è½¬ 
- ç®—æœ¯è¿ç®—ç¬¦ä¼˜å…ˆçº§ `** / // % +`
    - // å–æ•´æ•°éƒ¨åˆ†é™¤æ³•
    - ** å¹‚è¿ç®—
- è½¬ä¹‰å­—ç¬¦ï¼š
    - \a å“é“ƒ
    - \b  é€€æ ¼ backspace
    - \000  ç©º
    - \f   æ¢é¡µ
    - \  ç»­è¡Œç¬¦ï¼ˆè¡Œå°¾ï¼‰

## å‡½æ•°
- å½¢å‚èµ‹å€¼ä¼ é€’æ–¹å¼
    - æŒ‰ä½ç½® `å°±æ˜¯ç›´æ¥ç”¨çœ‹èµ·æ¥å’ŒJavaä¸€æ ·ï¼Œä½†ä¸æ˜¯æŒ‰ç±»å‹å’Œä½ç½®ï¼Œåªæ˜¯ä½ç½®`
    - æŒ‰æŒ‡å®šåç§° è°ƒç”¨çš„æ—¶å€™ `create(name='hi')`
    - ç¼ºçœé»˜è®¤å€¼ï¼ˆå‚æ•°ç¼ºçœä¹‹åï¼Œè°ƒç”¨å¯ä»¥ä¸ä¼ è¿™ä¸ªå‚æ•°ï¼Œå¦åˆ™å¿…é¡»è¦ä¼ ï¼‰ å£°æ˜: `def create(name='hi')`
    - åˆ—è¡¨ç±»å‹ï¼Œä¸æƒ³å½¢å‚æ”¹å˜å®å‚ ä¼ é€’å‰¯æœ¬è¿‡å»å³å¯ `list[:]`
    

- å¤šä¸ªå®å‚ `create(age, *name)` `create(12, 's','d')`
    - æ‰€ä»¥è¿™æ˜¯åä¸ºnameçš„`å…ƒç»„` ä¸èƒ½æŒ‡å®šæ²¡æœ‰çš„åç§° é”™è¯¯ï¼šcreate(12ï¼Œd=2, 2,3,4)
- å¤šä¸ªæŒ‡å®šåç§°å®å‚ `create(age, **name)` `create(12, name='d', lo=23)` 
    - å¿…é¡»è¦æŒ‡å®šåç§° è¿™æ˜¯åä¸ºnameçš„é”®å€¼å¯¹`å­—å…¸`
    - é”™è¯¯ï¼šcreate(12,d=23,3,3,3)
- æ³¨æ„ï¼š
    - `def hi(name, age=0, *names, **s)` `hi('d', 23,34, d=6) ` ageä¼šè¢«èµ‹å€¼23
    - `def hi(name, *names, age=0, **s)` `hi('d', 23,34, d=6)` è¿™æ ·å†™ageå°±ä¸ä¼šèµ‹å€¼ï¼Œé™¤éæŒ‡å®šåç§° age=23
    - `ä»¥ä¸Šä¸¤ç§æƒ…å†µï¼ˆ* å’Œ **ï¼‰ï¼Œéƒ½å¿…é¡»æ”¾åœ¨å½¢å‚åˆ—è¡¨çš„æœ€å (ä¸¤è€…åŒæ—¶ä½¿ç”¨æ—¶ï¼š* åªèƒ½åœ¨ ** å‰ )`

- è¿”å›å€¼
    - è¿”ä¸è¿”å› çœ‹éœ€æ±‚ æ²¡æœ‰åƒJavaä¸€æ ·çš„å¼ºåˆ¶æ€§çº¦æŸç±»å‹

- å°†å‡½æ•°å†™åœ¨ä¸€ä¸ªpyæ–‡ä»¶é‡Œï¼Œç„¶åå¯¼å…¥ `import æ–‡ä»¶å`ï¼Œåæ›°å¯¼å…¥æ¨¡å—
    -  è¿˜å¯ä»¥åŠ åˆ«å `import creat as fun` ç»™æ¨¡å—åŠ åˆ«å
    -  å¯¼å…¥æŒ‡å®šçš„å‡½æ•° `from create import create_aliens, type_button` å¤šä¸ªå°±ï¼Œåˆ†éš” åŒç† asç»™å‡½æ•°åŠ åˆ«å * é€šé…æ‰€æœ‰
- æ³¨æ„ï¼šé€’å½’æ·±åº¦ï¼ŒPythonä¸­é€’å½’é»˜è®¤æ·±åº¦æ˜¯ 989ï¼Œ è¦ä¹ˆæ›´æ”¹å®ç°ï¼Œè¦ä¹ˆå°± `sys.setrecursionlimit(10000000)`

> [å‚è€ƒ: Magic Method](https://segmentfault.com/a/1190000007256392) `__xxx__ æ–¹æ³•`

> å†…ç½®å‡½æ•°

- `id()` æŸ¥çœ‹å†…å­˜åœ°å€
- `help(æ–¹æ³•å)` å±•ç¤ºæ–¹æ³•çš„è¯´æ˜æ–‡æ¡£
- `dir(å¯¹è±¡)` å±•ç¤ºå¯¹è±¡çš„æ–¹æ³•API

************************
## åŒ… 
> [official tutorial](https://docs.python.org/3/tutorial/modules.html#packages)

When importing the package, Python searches through the directories on `sys.path` looking for the package subdirectory.

> 1. æ³¨æ„ä¸èƒ½å‡ºç° import å¾ªç¯ä¾èµ– `A.py import B.py` then `B.py import A.py`  

## ç±»
`Python ä¸å­˜åœ¨å¤šæ€ï¼Œå­˜åœ¨é¸­å­ç±»å‹` [åšå®¢ä»‹ç»](http://blog.csdn.net/shangzhihaohao/article/details/7065675) | [pythonä¸­çš„å¤šæ€ä¸é¸­å­ç±»å‹](https://www.jianshu.com/p/650485b78d11)
- å†™åœ¨ä¸€ä¸ªpyæ–‡ä»¶é‡Œï¼Œé»˜è®¤æ„é€ å™¨ï¼Œå¯ä»¥åŠ å‚æ•° `def __init__(self):`

- å±æ€§ï¼š
    - å®ä¾‹å±æ€§ å½¢å¦‚`self.name`ï¼Œåœ¨ä»»ä½•æ–¹æ³•ä¸­å£°æ˜è¿‡å³å¯
    - ç±»å±æ€§ ä¸åŠ selfå‰ç¼€ï¼Œ`__name`ç§æœ‰çš„ç±»å±æ€§ï¼Œ ç±»ä¸èƒ½è®¿é—®å¯¹è±¡å±æ€§
    - ç±»å±æ€§å¯ä»¥ä¿®æ”¹ï¼Œä½†æ˜¯å®é™…ä¸Šåªèƒ½ä¿®æ”¹å®ä¾‹å±æ€§ï¼ˆè¿™ä¸ªä¿®æ”¹åªæ˜¯å£°æ˜äº†åŒåçš„å®ä¾‹å±æ€§ï¼Œå¼•ç”¨çš„æ—¶å€™å°±ä¼šè¦†ç›–ç±»å±æ€§ï¼Œçœ‹èµ·æ¥å°±æ˜¯ä¿®æ”¹äº†
        - å¯ä»¥åˆ é™¤å®ä¾‹å±æ€§ï¼Œç„¶åå°±èƒ½çœ‹åˆ°åŸæœ‰çš„ç±»å±æ€§äº† 

```python
    class People:
        name = 'md'
    p = People()
    p.name = 'gh' # å£°æ˜äº†å®ä¾‹å±æ€§è¦†ç›–äº†ç±»å±æ€§
    del p.name # åˆ é™¤å®ä¾‹å±æ€§ï¼Œæ¢å¤ç±»å±æ€§å¼•ç”¨
```
- æ–¹æ³•ï¼š
    - å¯¹è±¡æ–¹æ³•ï¼Œç±»æ–¹æ³•ï¼Œé™æ€æ–¹æ³•
    - å¯¹è±¡æ–¹æ³•ï¼ŒåŒæ ·çš„ `__`å¼€å¤´æ˜¯ç§æœ‰çš„ï¼Œåªèƒ½åœ¨å¯¹è±¡çš„å…¬æœ‰æ–¹æ³•ä¸­`self.__`å¼•ç”¨
    - é™æ€æ–¹æ³•ï¼Œä¹‹ä¸­åªèƒ½å¼•ç”¨ç±»æˆå‘˜ï¼Œä¸èƒ½è®¿é—®å¯¹è±¡æˆå‘˜

- æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼š
    - `def __init__(self)`
    - `def __del__(self)`

```python
    class Person:
        # å¯¹è±¡æ–¹æ³•ï¼Œ å°†å¯¹è±¡ä½œä¸ºå‚æ•°selfä¼ è¿›å»
        def say(self):
            print('hi')
        # é™æ€æ–¹æ³•
        @staticmethod
        def drink():
            print('static method')
        # ç±»æ–¹æ³•ï¼Œå°†ç±»ä½œä¸ºå‚æ•°clsä¼ è¿›å»
        @classmethod
        def eat(cls):
            print('class method')
```

- self ä»£è¡¨äº†è‡ªèº«å¼•ç”¨ ç±»ä¼¼Javaçš„this
- ç‰¹åˆ«ä¸èˆ’æœ __init__ è¿™ç§å‘½å ä¸åƒJavaçš„æ„é€ å‡½æ•°é‡è½½ï¼Œè¿™ä¸ªå°±æ˜¯åé¢è¦†ç›–å‰é¢å®šä¹‰çš„__init__ ä¸ç®¡å½¢å‚åˆ—è¡¨
    - å› ä¸ºä¸å­˜åœ¨é‡è½½ï¼Œå°±æ˜¯è¯´ä¸èƒ½å¤šä¸ªæ„é€ å‡½æ•°çš„ä¹¦å†™äº†ã€‚ã€‚ã€‚

- å¯¼å…¥å’Œå‡½æ•°ä¸€æ · æ³¨æ„ç»§æ‰¿ä¸­ç±»çš„ä¾èµ–

### ç»§æ‰¿
- Pythonæ˜¯æ”¯æŒå¤šé‡ç»§æ‰¿çš„

- åŒæ–‡ä»¶ çˆ¶ç±»å®šä¹‰è¦åœ¨å­ç±»ä¹‹å‰
- çˆ¶ç±»çš„æ„é€ å™¨ä¸ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œéœ€è¦æ˜¾å¼ä½¿ç”¨çˆ¶ç±»æ„é€ å™¨ï¼š
    - 2.Ã—ç‰ˆæœ¬ï¼š `super(å­ç±»å, self).__init__(å‚æ•°)`
    - 3.Ã—ç‰ˆæœ¬ï¼š `super().__init__(å‚æ•°)`
    - æˆ–è€… `çˆ¶ç±»å.__init__()`

- é‡å†™çˆ¶ç±»æ–¹æ³•ï¼šåªéœ€è¦å®šä¹‰ä¸€ä¸ªå’Œçˆ¶ç±»æ–¹æ³•åŒåçš„æ–¹æ³•å³å¯ï¼Œå› ä¸ºæ²¡æœ‰å¤šæ€ï¼Œè¦†ç›–æ—¶å½¢å‚ä¸ä½œè€ƒè™‘    

- å¤šæ€ï¼š
    - æ–¹æ³•é‡è½½ï¼š å­ç±»è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•
    - è¿ç®—ç¬¦é‡è½½ï¼š åŠ `__add__(self, x)` å‡`__sub__(self, x)`

************************

## å¼‚å¸¸
```python
    try:
        print(5/0)
    except ZeroDivisionError as err:
        print("0 ä¸èƒ½åšé™¤æ•°", err)
    else:
        print("æˆåŠŸ")
    finally:
        print('finally')
```

- åŸºæœ¬è¯­æ³• `try except else finally`
    - else æ˜¯æ— å¼‚å¸¸æ—¶æ‰§è¡Œ
    - æœ‰å¼‚å¸¸å°±ä¼šæ‰§è¡Œ exceptï¼Œ å¯ä»¥å¤šä¸ªexcept ï¼ˆå’ŒJavaä¸€è‡´ï¼‰
        - `except Exception as e:` æ•è·æ‰€æœ‰å¼‚å¸¸
    - æœ€ç»ˆæ‰§è¡Œ finally å’Œ Javaçš„ç»“æ„æ˜¯ä¸€è‡´çš„

    | except åˆ†å¥ä½¿ç”¨å½¢å¼ |  è¯´æ˜ |
    | :--- | :--- |
    | except                        | æ•è·æ‰€æœ‰ç±»å‹ |
    | except name                   | åªæ•è·æŒ‡å®šç±»å‹ |
    | except name, value            | æ•è·æŒ‡å®šç±»å‹ï¼Œå¹¶è·å¾—æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡|
    | except (name1, name2)         | æ•è·åˆ—å‡ºçš„å¼‚å¸¸|
    | except (name1, name2), value  | æ•è·åˆ—å‡ºçš„å¼‚å¸¸ï¼Œè·å¾—æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡|

- raise è¯­å¥ å’ŒJavaçš„throwå…³é”®å­— ä¸€è‡´ ï¼Œ ä¸è¿‡raiseåªæ˜¯æŠ›å‡ºä¸€ä¸ªé€šç”¨å¼‚å¸¸ç±»å‹ Exception
- dir(exceptions) æŸ¥çœ‹æ‰€æœ‰å¼‚å¸¸ç±»å‹
    - raise name æ‰‹åŠ¨å¼•å‘å¼‚å¸¸
    - raise name,data ä¼ é€’ä¸€ä¸ªé™„åŠ çš„æ•°æ®
- åŒæ ·çš„ä¹Ÿæ˜¯å¯ä»¥è‡ªå®šä¹‰å¼‚å¸¸ç±»å‹çš„ï¼Œ`class MyExcetion(Exception):`
- with è¯­å¥ åœ¨å¼‚å¸¸å¤„ç†ä¸­ï¼Œå°† try except finally å…³é”®å­—ä»¥åŠä¸èµ„æºåˆ†é…é‡Šæ”¾ç›¸å…³çš„ä»£ç çœç•¥æ‰ã€‚
    - æ–‡ä»¶æ‰“å¼€ `with open('a.py') as files:`

| å¸¸è§å¼‚å¸¸ç±» | æè¿° |
|:---|:---|
| NameError/UnboundLocalError | å¼•ç”¨ä¸å­˜åœ¨çš„å˜é‡/æˆ–è€…å¼•ç”¨åœ¨å£°æ˜ä¹‹å‰ |
| ZeroDivisionError           | é™¤æ•°ä¸º0 |
| SyntaxError                 | è¯­æ³•é”™è¯¯ |
| IndexError                  | ç´¢å¼•é”™è¯¯ |
| KeyError                    | ä½¿ç”¨ä¸å­˜åœ¨çš„å­—å…¸å…³é”®å­— |
| IOError                     | è¾“å…¥è¾“å‡ºé”™è¯¯ |
| ValueError                  | æœç´¢åˆ—è¡¨ä¸­ä¸å­˜åœ¨çš„å€¼ |
| AtrributeError              | è°ƒç”¨ä¸å­˜åœ¨çš„æ–¹æ³• |
| TypeError                   | æœªå¼ºåˆ¶è½¬æ¢å°±æ··ç”¨æ•°æ®ç±»å‹ |
| EOPError                    | æ–‡ä»¶ç»“æŸæ ‡è¯†é”™è¯¯ |

************************

## è¯»å–å‘½ä»¤è¡Œå‚æ•°
> [å‚è€ƒåšå®¢](http://www.sharejs.com/codes/python/6121)

`åªæœ‰è¾“å…¥å‚æ•°ï¼Œæ²¡æœ‰é€‰é¡¹`
```python
    import sys
    print("è„šæœ¬åï¼š", sys.argv[0])
    for i in range(1, len(sys.argv)):
        print("å‚æ•°", i, sys.argv[i])
```
`python tree.py hi op ` é¡ºåºæ˜¯pythonï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–‡ä»¶ï¼Œä¹‹åæ‰æ˜¯åˆ«çš„å‚æ•°
 ç»“æœ>> `è„šæœ¬å tree.py å‚æ•°1 hi å‚æ•°2 op`

`æœ‰é€‰é¡¹`
`getopt.getopt(args, options[, long_options])`
```python
    import sys, getopt
    opts, args = getopt.getopt(sys.argv[1:], "hi:o:")
    for op, value in opts:
    
```
- `sys.argv[1:]`ä¸ºè¦å¤„ç†çš„å‚æ•°åˆ—è¡¨ï¼Œ`sys.argv[0]`ä¸ºè„šæœ¬åï¼Œæ‰€ä»¥ç”¨`sys.argv[1:]`è¿‡æ»¤æ‰è„šæœ¬åã€‚
- `"hi:o:"`: å½“ä¸€ä¸ªé€‰é¡¹åªæ˜¯è¡¨ç¤ºå¼€å…³çŠ¶æ€æ—¶ï¼Œå³åé¢ä¸å¸¦é™„åŠ å‚æ•°æ—¶ï¼Œåœ¨åˆ†æä¸²ä¸­å†™å…¥é€‰é¡¹å­—ç¬¦ã€‚å½“é€‰é¡¹åé¢æ˜¯å¸¦ä¸€ä¸ªé™„åŠ å‚æ•°æ—¶ï¼Œåœ¨åˆ†æä¸²ä¸­å†™å…¥é€‰é¡¹å­—ç¬¦åŒæ—¶åé¢åŠ ä¸€ä¸ª":"å·ã€‚
    - æ‰€ä»¥"hi:o:"å°±è¡¨ç¤º"h"æ˜¯ä¸€ä¸ªå¼€å…³é€‰é¡¹(å•å•çš„-h)ï¼›"i:"å’Œ"o:"åˆ™è¡¨ç¤ºåé¢åº”è¯¥å¸¦ä¸€ä¸ªå‚æ•°ã€‚
- è°ƒç”¨getoptå‡½æ•°ã€‚å‡½æ•°è¿”å›ä¸¤ä¸ªåˆ—è¡¨ï¼š`optså’Œargs`ã€‚optsä¸ºåˆ†æå‡ºçš„æ ¼å¼ä¿¡æ¯ã€‚argsä¸ºä¸å±äºæ ¼å¼ä¿¡æ¯çš„å‰©ä½™çš„å‘½ä»¤è¡Œå‚æ•°ã€‚
    - optsæ˜¯ä¸€ä¸ªä¸¤å…ƒç»„çš„åˆ—è¡¨ã€‚æ¯ä¸ªå…ƒç´ ä¸ºï¼š(é€‰é¡¹ä¸²,é™„åŠ å‚æ•°)ã€‚å¦‚æœæ²¡æœ‰é™„åŠ å‚æ•°åˆ™ä¸ºç©ºä¸²''ã€‚
    - getoptå‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°[, long_options]ä¸ºå¯é€‰çš„é•¿é€‰é¡¹å‚æ•°ï¼Œä¸Šé¢ä¾‹å­ä¸­çš„éƒ½ä¸ºçŸ­é€‰é¡¹(å¦‚-i -o)
- é•¿é€‰é¡¹æ ¼å¼ä¸¾ä¾‹:
    - `--version`
    - `--file=error.txt`
- è®©ä¸€ä¸ªè„šæœ¬åŒæ—¶æ”¯æŒçŸ­é€‰é¡¹å’Œé•¿é€‰é¡¹ `getopt.getopt(sys.argv[1:], "hi:o:", ["version", "file="]) `

### docopt
> [Githubåœ°å€](https://github.com/docopt/docopt) | åœ¨è„šæœ¬å¤´éƒ¨æ·»åŠ æ–‡æ¡£æ¥å®ç°è¯»å–å‚æ•°çš„ä¾¿æ·
ä¼šè¯»å–è¾“å…¥è¿”å›å­—å…¸å¯¹è±¡,å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¯»å–è¾“å…¥çš„å‚æ•°,ä½†æ˜¯éœ€è¦ä¹¦å†™å¤§é‡æ–‡æ¡£, é€‚åˆå‚æ•°æ¯”è¾ƒå¤šçš„æ—¶å€™,ä¸€çœ¼è¿‡å»ç®€æ´æ˜äº†

### Python Fire
> [Githubåœ°å€](https://github.com/google/python-fire)å¿«é€Ÿçš„ç®€æ´çš„ç”ŸæˆCLI
> ä¸è¿‡è¦è‡ªå·±ä¹¦å†™å¸®åŠ©æ–‡æ¡£è¾“å‡º,å°é‡å‚æ•°çš„è¯,å¼€å‘ååˆ†çš„ä¾¿åˆ© å¯ä»¥å’Œç±»ä¸€èµ·,ä¹Ÿå¯ä»¥å’Œæ–¹æ³•ä¸€èµ·

```python
    import fire
    def main(action=None):
        print(action)
        if action == '-h':
            show_help()
        
    fire.Fire(main)
    # ä½¿ç”¨æ—¶ py filename.py -h  
```

******************
# åº”ç”¨
## æ¨¡å—
python -m module_name

### http
- å¿«é€Ÿå¯åŠ¨ä¸€ä¸ª HTTP Web æœåŠ¡å™¨ `http.server [port]`

### virtualenv
> [å»–é›ªå³° virtualenv](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001432712108300322c61f256c74803b43bfd65c6f8d0d0000)

**è™½ç„¶ä¹Ÿå¯ä»¥ç”¨aptå®‰è£… python-venv, ä½†æ˜¯æœ€å¥½ä¸è¦è¿™æ ·,é¿å…åç»­æ¨¡å—å‡çº§åä¸å¿…è¦çš„å†²çª**

- åˆ›å»ºç¯å¢ƒ `python3 -m venv web` æˆ–è€… `virtualenv --no-site-packages web` ä¸å°†ç³»ç»Ÿä¸­å®‰è£…çš„åŒ…å¸¦å…¥è¯¥ç¯å¢ƒ
- å¯åŠ¨ç¯å¢ƒ `source web/bin/activate`
    - åœ¨ç¯å¢ƒä¸­ä½¿ç”¨çš„pip python éƒ½æ˜¯ç¯å¢ƒä¸­çš„, å…¶å®å°±æ˜¯ä¿®æ”¹äº†ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡æŒ‡å‘
- åœç”¨ç¯å¢ƒ `deactivate`

### pip
> [pip](https://pip.readthedocs.io/en/stable/) | [doc](https://pip.pypa.io/en/stable/reference/pip_install/) | [guide](https://packaging.python.org/tutorials/installing-packages/) 

1. ä½œä¸ºPythonçš„åŒ…ç®¡ç†å™¨, åŒ…çš„å¯æ‰§è¡Œæ–‡ä»¶é»˜è®¤åœ¨ /usr/local/bin ç›®å½•ä¸‹(å…¨å±€)
    - å¦‚æœå®‰è£…æ—¶åŠ äº†è¯¥å‚æ•° --user å°±æ˜¯å®‰è£…åœ¨ ~/.local/bin ç›®å½•ä¸‹

> install
- `pip install name` å®‰è£…æœ€æ–°ç‰ˆæœ¬
- `pip install name==version` å®‰è£…æŒ‡å®šç‰ˆæœ¬
- é•œåƒæº è±†ç“£ `-i https://pypi.doubanio.com/simple/` æ¸…å `-i https://pypi.tuna.tsinghua.edu.cn/simple`
    - [ä¿®æ”¹Pip ç®¡ç†å·¥å…·é»˜è®¤ä¸‹è½½æº](https://blog.csdn.net/JQ_AK47/article/details/77944444)
- ä»£ç† `--proxy 192.168.1.24:1234`
- å¼ºè¡Œä½¿ç”¨HTTP `-i http://pypi.doubanio.com/simple/ --trusted-host pypi.doubanio.com` pipç‰ˆæœ¬é«˜äº20.3åé»˜è®¤ä½¿ç”¨HTTPS
- å®‰è£…tar.gz:  pip install xxxx.tar.gz

> æ³¨æ„ï¼šè‡ªPEP668å¼€å§‹é™åˆ¶é»˜è®¤å®‰è£…ä¸ºå…¨å±€ä¾èµ–ï¼Œå¦åˆ™ä¼šæŠ¥é”™ externally-managed-environment
- å¯ä»¥è®¾ç½®é»˜è®¤å…¨å±€ python3 -m pip config set global.break-system-packages true
- æˆ–è€…å•æ¬¡å®‰è£…åˆ°å…¨å±€ --break-system-packages

> 3.10 å pip ä½œä¸ºå­æ¨¡å—
- å®‰è£… `python -m ensurepip --upgrade`
- ä½¿ç”¨ `python -m pip install pkgName` 
- å‡çº§ `python -m pip install --upgrade pip`

#### Requirements files
> [pipå®˜æ–¹æ–‡æ¡£ Requirements files](https://pip.readthedocs.io/en/1.1/requirements.html)

1. å¯¼å‡º `pip freeze > requirements.txt` _è¿™ä¸ªå‘½ä»¤ä¼šå°†å½“å‰ç¯å¢ƒå®‰è£…çš„åŒ…å…¨éƒ¨åˆ—å‡ºæ¥, é€‚åˆenvç¯å¢ƒä¸‹ä½¿ç”¨_
    - å¦‚æœæ²¡æœ‰ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ, ç„¶ååªæƒ³å¯¼å‡ºæŸé¡¹ç›®çš„ä¾èµ– [Github pipreqs](https://github.com/bndr/pipreqs)
    - å®‰è£… : `pip install pipreqs` ç„¶å `pipreqs /path/to/project`

1. ä½¿ç”¨ `pip install -r requirements.txt`

#### å‘å¸ƒåŒ…åˆ° pypi
> [Official : about package](https://packaging.python.org/guides/distributing-packages-using-setuptools/?highlight=pypirc#id78)

1. edit `$HOME/.pypirc` to save authorization  info
    ```
        [pypi]
        username = <username>
        password = <password>
    ```
1. pip3 install wheel twine 
1. rm -rf dist build *.egg-info
1. python3 setup.py bdist_wheel
1. twine upload dist/*

> [å¯ä»¥å‚è€ƒè¯¥é¡¹ç›®: ç»ˆç«¯å†…ä½¿ç”¨ç™¾åº¦ç¿»è¯‘](https://gitee.com/gin9/baidu-trans-cli)

ç”±äºReadme ä½¿ç”¨çš„æ˜¯ [reStructuredText](https://rest-sphinx-memo.readthedocs.io/en/latest/ReST.html) è¯­æ³•(è¦æ±‚ä¸¥æ ¼,æ‰€ä»¥éœ€è¦å€ŸåŠ©å·¥å…·)
> 1. pip install collective.checkdocs Pygments
> 1. python3 setup.py checkdocs

### matplotlib

************************


## æ–‡ä»¶æ“ä½œ

- æ³¨æ„è·¯å¾„ï¼ŒWindowsç³»ç»Ÿä¸­è¦ä½¿ç”¨åæ–œæ  \ 
- æœ€ç®€å•ï¼š`file = open('')` åªè¯»æ‰“å¼€
- `ä½¿ç”¨withæ¥æ“ä½œ å¥½å¤„æ˜¯Pythonè‡ªåŠ¨å…³é—­æ–‡ä»¶` ç±»ä¼¼äºJavaçš„TWR
    ```python
        with open('filename') as file: 
            lines = file.readlines()
    ```
- ä¸ºå†™æ‰“å¼€æ–°æ–‡æœ¬æ–‡ä»¶åªè¯» `file = open('a.txt','w+'[,coding='utf-8'])` æ‰“å¼€åˆ ç©º
- `file.write('')`

- `osæ¨¡å—`
    - `os.rename('filename1','filename2') ` mv 
    - `os.remove('filename.py')` rm
    - `os.listdir(path)` ls 
    - `os.getcwd()` pwd
    - `os.makedirs(r'path')` mkdir
    - `os.chdir('')` æ”¹å˜ä¸€ä¸ªç›®å½•
    - `os.rmdir('')` åˆ é™¤è¯¥ç›®å½•ï¼Œå‰ææ˜¯ç©ºç›®å½•
 
- `os.pathæ¨¡å—`
    - abspath('') è·å–ç»å¯¹è·¯å¾„
    - exists('') æ˜¯å¦å­˜åœ¨
    - isdir('') æ˜¯å¦æ˜¯ä¸€ä¸ªç›®å½•
    - isfile('')  æ˜¯å¦æ˜¯æ–‡ä»¶
    - islink('') æ˜¯å¦æ˜¯è½¯é“¾æ¥ç¡¬é“¾æ¥æ–‡ä»¶
    - getsize() è·å–æ–‡ä»¶å°ºå¯¸

- shutilæ¨¡å—
    - dir() å¤åˆ¶å•ä¸ªæ–‡ä»¶
    - shultil.copytree(r'',r'') å¤åˆ¶ç›®å½•æ ‘ 

```python
    # è¯»å–å¤§æ–‡ä»¶
    for line in fileinput.input("test.txt"):
        print(line)
```
************************

`b è¡¨ç¤ºå­—èŠ‚æµï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ ä¸åŠ è¡¨ç¤ºå­—ç¬¦æµï¼ˆæ–‡æœ¬æ–‡ä»¶ï¼‰`

|å­—ç¬¦æµæ–¹å¼   |æ„ä¹‰   |å½“å­˜åœ¨   |å½“ä¸å­˜åœ¨   |
|:-----|:-----|:------|:-----|
|r   |åªè¯»æ‰“å¼€   |æ‰“å¼€   |è¿”å›ç©ºæŒ‡é’ˆ |
|w   |åªå†™æ‰“å¼€  |æ‰“å¼€åˆ ç©º |æ–°å»ºæ‰“å¼€  |
|a   |è¿½åŠ æ‰“å¼€   |æ‰“å¼€   |æ–°å»ºæ‰“å¼€  |
|r+  |è¯»æ‰“å¼€å¯å†™  |æ‰“å¼€   |è¿”å›ç©ºæŒ‡é’ˆ  |
|w+  |å†™æ‰“å¼€å¯è¯» |æ‰“å¼€åˆ ç©º |æ–°å»ºæ‰“å¼€  |
|a+  |è¿½åŠ æ‰“å¼€å¯è¯» |æ‰“å¼€   |æ–°å»ºæ‰“å¼€  |

****************

|å­—èŠ‚æµæ–¹å¼   |æ„ä¹‰   |å½“å­˜åœ¨   |å½“ä¸å­˜åœ¨   |
|:-----|:-----|:------|:-----|
|rb  |åªè¯»æ‰“å¼€   |æ‰“å¼€   |è¿”å›ç©ºæŒ‡é’ˆ |
|wb  |åªå†™æ‰“å¼€  |æ‰“å¼€åˆ ç©º |æ–°å»ºæ‰“å¼€  |
|ab  |è¿½åŠ æ‰“å¼€   |æ‰“å¼€   |æ–°å»ºæ‰“å¼€  |
|rb+ |è¯»æ‰“å¼€å¯å†™  |æ‰“å¼€   |è¿”å›ç©ºæŒ‡é’ˆ |
|wb+ |å†™æ‰“å¼€å¯è¯» |æ‰“å¼€åˆ ç©º |æ–°å»ºæ‰“å¼€  |
|ab+ |è¿½åŠ æ‰“å¼€å¯è¯» |æ‰“å¼€   |æ–°å»ºæ‰“å¼€  |

************************

### JSON
```python
    import json
    file_name='result.json'
    
    def write_json():
        global file_name
        person = {'color': 'green', 'age': '23'}
        with open(file_name, 'w') as o:
            json.dump(person, o)

    def read_json():
        global file_name
        with open(file_name) as file:
            datas = json.load(file)
            for data in datas :
                # å¼•ç”¨çš„æ—¶å€™å°±å½“åšæ˜¯å­—å…¸
                print(data, datas[data])
```

### confæˆ–è€…ini
> [å‚è€ƒ: pythonæ“ä½œiniæ–‡ä»¶](https://www.oschina.net/code/snippet_782578_14344)

```python
    import os
    from configparser import ConfigParser

    path = os.path.split(os.path.realpath(__file__))[0]
    mainConf = path + '/main.conf'
    cf = ConfigParser()
    cf.read(mainConf)
    host = cf.get('redis', 'host')

    # å†™ ä½†æ˜¯è¦æœ‰writeèŠ‚ç‚¹
    cf.set('write', 'add', '12')
    cf.write(open(mainConf, 'r+'))
```

_å¯¹åº”çš„conf_
```conf
    [redis]
    host=127.0.0.1
```

************************
## æ—¥å¿—
loguru

> [Effective Logging in Threaded or Multiprocessing Python Applications ](https://www.loggly.com/blog/effective-logging-in-threaded-or-multiprocessing-python-applications/)

ä½†æ˜¯ FastApi é‡Œçš„ BackgroundTasks æ˜¯è·¨çº¿ç¨‹çš„ï¼Œä½†æ˜¯åŒæ ·æ”¯æŒlogï¼Œ éœ€è¦æ‰¾æ‰¾æ€ä¹ˆå®ç°çš„
- å®é™…ä¸Šæ˜¯å› ä¸ºä»–æ˜¯åç¨‹ï¼Œä¸æ˜¯çº¿ç¨‹

************************

## æµ‹è¯•

- æ–‡ä»¶åtest_å¼€å¤´, éœ€è¦ unittest.main() æ–¹å¼è¿è¡Œ
- ç±»ç»§æ‰¿ unittest.TestCase, æ‰€æœ‰test_å¼€å¤´çš„æ–¹æ³•éƒ½å°†è‡ªåŠ¨è¿è¡Œ
- æ–­è¨€ self.assertEqual assertNotEquals assertIn(item, list)
- è¾“å‡ºç»“æœ: `. æµ‹è¯•é€šè¿‡` `E æµ‹è¯•è¿è¡Œé”™è¯¯` `F æµ‹è¯•æ–­è¨€ä¸é€šè¿‡`

************************

## æ•°æ®åº“
### MySQL
> pip install mysqlclient

- import MySQLdb

### Redis
_å®‰è£…æ¨¡å—_
- python2 `sudo pip install redis`
- python3 `sudo pip3 install redis`

_ä½¿ç”¨_
- ä½¿ç”¨çš„æ¥å£æ–¹æ³•æ˜¯å’Œredisä¸€æ ·çš„
    - [Redisç¬”è®°ä¼ é€é—¨](/Database/Redis.md)

## éƒ¨ç½²
### Dockeréƒ¨ç½²
> [å‚è€ƒå®˜æ–¹æ–‡æ¡£](https://hub.docker.com/_/python/)

```dockerfile
    FROM python:3
    WORKDIR /usr/src/app
    COPY requirements.txt ./
    RUN pip install --no-cache-dir -r requirements.txt
    COPY . .
    CMD [ "python", "./your-daemon-or-script.py" ]
```

```dockerfile
    FROM python:2
    WORKDIR /usr/src/app
    COPY requirements.txt ./
    RUN pip install --no-cache-dir -r requirements.txt
    COPY . .
    CMD [ "python", "./your-daemon-or-script.py" ]
```
- You can then build and run the Docker image:
    - $ docker build -t my-python-app .
    - $ docker run -it --rm --name my-running-app my-python-app

******************************
## å¸¸è§åº“
### å†…ç½®åº“
- `codecs` ç¼–ç 

- `os` æ“ä½œç³»ç»Ÿç›¸å…³API
    - è·å–è„šæœ¬ç»å¯¹è·¯å¾„  `os.path.split(os.path.realpath(__file__))[0]`
    - è·å–ç”¨æˆ·ç›®å½• `os.environ['HOME']` | `os.path.expandvars('$HOME')` | `os.path.expanduser('~')`

- platform æ“ä½œç³»ç»Ÿä¿¡æ¯
    - è·å–å½“å‰æ“ä½œç³»ç»Ÿåç§° platform.system() 

- `subprocess` [ä»£ç ](https://gitee.com/gin9/codes/9ytejo7fl2xmqsr5zwkv380)

### æ—¶é—´å¤„ç†

_time_
> [èœé¸Ÿæ•™ç¨‹: Python æ—¥æœŸå’Œæ—¶é—´](http://www.runoob.com/python/python-date-time.html)

1. æ ¼å¼åŒ–å½“å‰æ—¶é—´ `time.strftime("%Y-%m-%d %H:%M:%S", time.localtime())`

### ä¸‰æ–¹åº“
- `qrcode` ç»ˆç«¯ç”ŸæˆäºŒç»´ç 
- `redis` å’ŒRediså‘½ä»¤å®Œç¾èåˆ
- `httpie` HTTPæ–¹ä¾¿çš„äº¤äº’ [doc](https://httpie.org/doc)
    - POSTæ—¶ ç‰¹åˆ«æ³¨æ„:`å‚æ•°==å€¼`
- [python-excel](http://www.python-excel.org/)
- `python-docx` [æ–‡æ¡£](https://python-docx.readthedocs.io/en/latest/)
- `chef` [æ–‡æ¡£](https://docs.chef.io/resource_python.html) `Use the python resource to execute scripts using the Python interpreter`
